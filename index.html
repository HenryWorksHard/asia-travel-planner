<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asia Adventure - 6 Month Travel Planner</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: #1a1a2e;
            color: #eee;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header h1 {
            font-size: 1.8rem;
            font-weight: 600;
        }
        
        .header .stats {
            display: flex;
            gap: 30px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .stat-label {
            font-size: 0.75rem;
            opacity: 0.8;
        }
        
        .main-container {
            display: flex;
            height: calc(100vh - 80px);
        }
        
        #map {
            flex: 1;
            height: 100%;
        }
        
        .sidebar {
            width: 400px;
            background: #16213e;
            overflow-y: auto;
            border-left: 1px solid #333;
        }
        
        .sidebar-header {
            padding: 20px;
            background: #1a1a2e;
            border-bottom: 1px solid #333;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .sidebar-header h2 {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        
        .sidebar-header p {
            font-size: 0.85rem;
            opacity: 0.7;
        }
        
        .country-section {
            border-bottom: 2px solid #667eea;
        }
        
        .country-header {
            background: linear-gradient(135deg, #1f4068 0%, #16213e 100%);
            padding: 12px 20px;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .stop-card {
            padding: 15px 20px;
            border-bottom: 1px solid #333;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .stop-card:hover {
            background: #1a1a2e;
        }
        
        .stop-card.active {
            background: #1f4068;
            border-left: 4px solid #667eea;
        }
        
        .stop-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 5px;
        }
        
        .stop-number {
            background: #667eea;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .stop-name {
            font-size: 1rem;
            font-weight: 600;
            flex: 1;
            margin-left: 10px;
        }
        
        .stop-duration {
            background: #333;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
        }
        
        .stop-details {
            margin-top: 12px;
            display: none;
        }
        
        .stop-card.active .stop-details {
            display: block;
        }
        
        .detail-section {
            margin-bottom: 12px;
        }
        
        .detail-section h4 {
            font-size: 0.8rem;
            color: #667eea;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .detail-item {
            background: #1a1a2e;
            padding: 8px 10px;
            border-radius: 6px;
            margin-bottom: 4px;
            font-size: 0.8rem;
        }
        
        .detail-item .name {
            font-weight: 500;
        }
        
        .detail-item .info {
            opacity: 0.7;
            font-size: 0.75rem;
        }
        
        .detail-item .price {
            color: #4ade80;
            font-weight: 600;
        }
        
        .travel-info {
            background: linear-gradient(135deg, #1f4068 0%, #16213e 100%);
            padding: 10px;
            border-radius: 6px;
            margin-top: 8px;
        }
        
        .travel-info h4 {
            font-size: 0.75rem;
            margin-bottom: 6px;
            opacity: 0.8;
        }
        
        .travel-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 6px 0;
            border-bottom: 1px solid #333;
            font-size: 0.8rem;
        }
        
        .travel-option:last-child {
            border-bottom: none;
        }
        
        .travel-option .mode {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .travel-option .price {
            color: #4ade80;
            font-weight: 600;
        }
        
        .travel-option .time {
            font-size: 0.7rem;
            opacity: 0.7;
        }
        
        .leaflet-popup-content-wrapper {
            background: #16213e;
            color: #eee;
            border-radius: 12px;
        }
        
        .leaflet-popup-tip {
            background: #16213e;
        }
        
        .popup-content h3 {
            font-size: 1rem;
            margin-bottom: 3px;
        }
        
        .popup-content p {
            font-size: 0.8rem;
            opacity: 0.8;
        }
        
        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: 50vh;
            }
            
            #map {
                height: 50vh;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>üåè Asia Adventure</h1>
        <div class="stats">
            <div class="stat">
                <div class="stat-value">6</div>
                <div class="stat-label">Months</div>
            </div>
            <div class="stat">
                <div class="stat-value">12</div>
                <div class="stat-label">Countries</div>
            </div>
            <div class="stat">
                <div class="stat-value">32</div>
                <div class="stat-label">Stops</div>
            </div>
            <div class="stat">
                <div class="stat-value">~$9,000</div>
                <div class="stat-label">Est. Budget</div>
            </div>
        </div>
    </header>
    
    <div class="main-container">
        <div id="map"></div>
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>Travel Route</h2>
                <p>Bangkok ‚Üí West across Asia ‚Ä¢ 32 stops</p>
            </div>
            <div id="stops-list"></div>
        </aside>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Expanded travel data - more stops per country
        const travelRoute = [
            // THAILAND
            {
                id: 1, city: "Bangkok", country: "Thailand", lat: 13.7563, lng: 100.5018, duration: "4 days",
                description: "Start in the Land of Smiles",
                hostels: [
                    { name: "Lub d Bangkok Siam", price: "$12/night", rating: "9.2", info: "Rooftop pool, central" },
                    { name: "NapPark Hostel", price: "$8/night", rating: "8.8", info: "Khao San area" }
                ],
                activities: ["Grand Palace & Wat Phra Kaew", "Chatuchak Weekend Market", "Khao San Road", "Floating markets"],
                nextTravel: [
                    { mode: "üöÇ Train", destination: "Ayutthaya", price: "$2-5", duration: "1.5h" },
                    { mode: "üöå Minivan", destination: "Ayutthaya", price: "$3-5", duration: "1h" }
                ]
            },
            {
                id: 2, city: "Ayutthaya", country: "Thailand", lat: 14.3692, lng: 100.5877, duration: "2 days",
                description: "Ancient temple ruins, UNESCO site",
                hostels: [
                    { name: "Baan Are Gong", price: "$8/night", rating: "9.0", info: "Riverside, bikes included" },
                    { name: "Tony's Place", price: "$6/night", rating: "8.5", info: "Budget, central" }
                ],
                activities: ["Wat Mahathat (Buddha head in tree)", "Cycle the ruins", "Wat Chaiwatthanaram", "Night market"],
                nextTravel: [
                    { mode: "üöÇ Train", destination: "Chiang Mai", price: "$18-40", duration: "10h" },
                    { mode: "‚úàÔ∏è Flight", destination: "Chiang Mai", price: "$35-60", duration: "1h" }
                ]
            },
            {
                id: 3, city: "Chiang Mai", country: "Thailand", lat: 18.7883, lng: 98.9853, duration: "5 days",
                description: "Temples, mountains, digital nomad hub",
                hostels: [
                    { name: "Stamps Backpackers", price: "$7/night", rating: "9.1", info: "Best social hostel" },
                    { name: "Hug Hostel", price: "$9/night", rating: "8.9", info: "Great breakfast" }
                ],
                activities: ["Doi Suthep Temple", "Elephant Nature Park", "Sunday Walking Street", "Muay Thai class", "Cooking class"],
                nextTravel: [
                    { mode: "üöå Minivan", destination: "Pai", price: "$5-8", duration: "3h" }
                ]
            },
            {
                id: 4, city: "Pai", country: "Thailand", lat: 19.3597, lng: 98.4408, duration: "4 days",
                description: "Hippie mountain town, chill vibes",
                hostels: [
                    { name: "Pai Circus Hostel", price: "$6/night", rating: "9.0", info: "Pool, fire shows" },
                    { name: "Common Grounds", price: "$8/night", rating: "8.8", info: "Social, garden" }
                ],
                activities: ["Pai Canyon sunset", "Hot springs", "Pam Bok Waterfall", "Night market", "Rent a scooter"],
                nextTravel: [
                    { mode: "üöå Bus", destination: "Chiang Rai", price: "$10-15", duration: "4h" }
                ]
            },
            {
                id: 5, city: "Chiang Rai", country: "Thailand", lat: 19.9105, lng: 99.8406, duration: "2 days",
                description: "White Temple, border town",
                hostels: [
                    { name: "Mercy Hostel", price: "$7/night", rating: "8.9", info: "Modern, rooftop" },
                    { name: "Connect Hostel", price: "$6/night", rating: "8.5", info: "Central, social" }
                ],
                activities: ["White Temple", "Blue Temple", "Black House", "Night Bazaar", "Golden Triangle day trip"],
                nextTravel: [
                    { mode: "üöå Bus", destination: "Chiang Khong", price: "$5", duration: "2h" },
                    { mode: "‚õµ Slow Boat", destination: "Luang Prabang", price: "$35-50", duration: "2 days" }
                ]
            },
            // LAOS
            {
                id: 6, city: "Luang Prabang", country: "Laos", lat: 19.8850, lng: 102.1347, duration: "4 days",
                description: "UNESCO town on the Mekong",
                hostels: [
                    { name: "Safehouse Hostel", price: "$8/night", rating: "8.7", info: "Rooftop bar" },
                    { name: "Downtown Backpackers", price: "$6/night", rating: "8.3", info: "Central" }
                ],
                activities: ["Alms giving (sunrise)", "Kuang Si Waterfalls", "Night market", "Pak Ou Caves", "Mekong cruise"],
                nextTravel: [
                    { mode: "üöå Bus", destination: "Vang Vieng", price: "$12-18", duration: "5-6h" }
                ]
            },
            {
                id: 7, city: "Vang Vieng", country: "Laos", lat: 18.9220, lng: 102.4473, duration: "3 days",
                description: "Karst mountains, tubing, adventure",
                hostels: [
                    { name: "Nana Backpackers", price: "$6/night", rating: "8.8", info: "River views, social" },
                    { name: "Vang Vieng Eco Lodge", price: "$8/night", rating: "8.5", info: "Quiet option" }
                ],
                activities: ["River tubing", "Blue Lagoons", "Kayaking", "Hot air balloon", "Caves exploration"],
                nextTravel: [
                    { mode: "üöå Bus", destination: "Vientiane", price: "$8-12", duration: "3-4h" }
                ]
            },
            {
                id: 8, city: "Vientiane", country: "Laos", lat: 17.9757, lng: 102.6331, duration: "2 days",
                description: "Chill capital, Mekong riverside",
                hostels: [
                    { name: "Dream Home Hostel", price: "$5/night", rating: "8.6", info: "Budget, central" },
                    { name: "Barn 1920s Hostel", price: "$7/night", rating: "8.8", info: "Heritage building" }
                ],
                activities: ["Patuxai Victory Gate", "Buddha Park", "Mekong sunset", "COPE Visitor Centre", "Night market"],
                nextTravel: [
                    { mode: "‚úàÔ∏è Flight", destination: "Hanoi", price: "$60-100", duration: "1h" },
                    { mode: "üöå Bus", destination: "Hanoi", price: "$25-35", duration: "24h" }
                ]
            },
            // VIETNAM
            {
                id: 9, city: "Hanoi", country: "Vietnam", lat: 21.0285, lng: 105.8542, duration: "4 days",
                description: "Chaotic charm, incredible food",
                hostels: [
                    { name: "Nexy Hostel", price: "$8/night", rating: "9.3", info: "Best hostel in Hanoi" },
                    { name: "Old Quarter View", price: "$6/night", rating: "8.5", info: "Cheap beer corner" }
                ],
                activities: ["Old Quarter exploration", "Street food tour", "Train Street", "Ho Chi Minh Mausoleum", "Water puppet show"],
                nextTravel: [
                    { mode: "üöå Bus", destination: "Ha Long Bay", price: "$15-25", duration: "3-4h" }
                ]
            },
            {
                id: 10, city: "Ha Long Bay", country: "Vietnam", lat: 20.9101, lng: 107.1839, duration: "2 days",
                description: "Limestone karsts, boat cruise",
                hostels: [
                    { name: "Ha Long Backpackers", price: "$8/night", rating: "8.4", info: "Tour bookings" },
                    { name: "Overnight Cruise", price: "$45-80", rating: "9.0", info: "Cruise with cabin" }
                ],
                activities: ["Overnight cruise", "Kayaking", "Sung Sot Cave", "Ti Top Island", "Floating village"],
                nextTravel: [
                    { mode: "üöå Bus", destination: "Ninh Binh", price: "$12-18", duration: "4h" }
                ]
            },
            {
                id: 11, city: "Ninh Binh", country: "Vietnam", lat: 20.2539, lng: 105.9750, duration: "2 days",
                description: "Ha Long Bay on land",
                hostels: [
                    { name: "Tam Coc Bungalow", price: "$10/night", rating: "9.1", info: "Rice field views" },
                    { name: "Nguyen Shack", price: "$8/night", rating: "8.7", info: "Eco homestay" }
                ],
                activities: ["Tam Coc boat ride", "Mua Cave viewpoint", "Bai Dinh Pagoda", "Cycling rice fields", "Trang An Grottoes"],
                nextTravel: [
                    { mode: "üöÇ Train", destination: "Hue", price: "$25-45", duration: "10-12h" }
                ]
            },
            {
                id: 12, city: "Hue", country: "Vietnam", lat: 16.4637, lng: 107.5909, duration: "2 days",
                description: "Imperial city, royal tombs",
                hostels: [
                    { name: "Vietnam Backpackers Hue", price: "$7/night", rating: "8.8", info: "Pool, social" },
                    { name: "Midtown Hostel", price: "$6/night", rating: "8.5", info: "Central, clean" }
                ],
                activities: ["Imperial Citadel", "Royal tombs", "Thien Mu Pagoda", "DMZ tour", "Perfume River cruise"],
                nextTravel: [
                    { mode: "üöÇ Train", destination: "Da Nang", price: "$8-15", duration: "2.5h" }
                ]
            },
            {
                id: 13, city: "Hoi An", country: "Vietnam", lat: 15.8801, lng: 108.3380, duration: "4 days",
                description: "Lantern town, tailors, beach",
                hostels: [
                    { name: "Tribee Bana", price: "$8/night", rating: "9.2", info: "Pool, bikes free" },
                    { name: "Cucina Hostel", price: "$7/night", rating: "8.9", info: "Cooking classes" }
                ],
                activities: ["Ancient Town at night", "Get clothes tailored", "An Bang Beach", "Basket boat tour", "Cooking class"],
                nextTravel: [
                    { mode: "‚úàÔ∏è Flight", destination: "Ho Chi Minh", price: "$35-70", duration: "1h 15m" },
                    { mode: "üöÇ Train", destination: "Nha Trang", price: "$20-40", duration: "8h" }
                ]
            },
            {
                id: 14, city: "Ho Chi Minh City", country: "Vietnam", lat: 10.8231, lng: 106.6297, duration: "3 days",
                description: "Energetic metropolis, war history",
                hostels: [
                    { name: "The Common Room", price: "$9/night", rating: "9.1", info: "Design hostel" },
                    { name: "Flipside Hostel", price: "$11/night", rating: "9.0", info: "Rooftop pool" }
                ],
                activities: ["Cu Chi Tunnels", "War Remnants Museum", "Ben Thanh Market", "Bui Vien Walking Street", "Coffee culture"],
                nextTravel: [
                    { mode: "‚úàÔ∏è Flight", destination: "Phnom Penh", price: "$50-90", duration: "1h" },
                    { mode: "üöå Bus", destination: "Phnom Penh", price: "$15-25", duration: "6-7h" }
                ]
            },
            // CAMBODIA
            {
                id: 15, city: "Phnom Penh", country: "Cambodia", lat: 11.5564, lng: 104.9282, duration: "3 days",
                description: "Sobering history, riverside charm",
                hostels: [
                    { name: "Mad Monkey", price: "$7/night", rating: "8.9", info: "Pool, party vibe" },
                    { name: "Onederz Hostel", price: "$5/night", rating: "8.4", info: "Riverside" }
                ],
                activities: ["Killing Fields & S-21", "Royal Palace", "Riverside sunset", "Russian Market", "Street 308"],
                nextTravel: [
                    { mode: "üöå Bus", destination: "Siem Reap", price: "$10-15", duration: "6h" }
                ]
            },
            {
                id: 16, city: "Siem Reap", country: "Cambodia", lat: 13.3671, lng: 103.8448, duration: "4 days",
                description: "Angkor Wat, ancient temples",
                hostels: [
                    { name: "Lub d Siem Reap", price: "$10/night", rating: "9.0", info: "Pool, modern" },
                    { name: "Funky Flashpacker", price: "$8/night", rating: "8.7", info: "Pool, good vibes" }
                ],
                activities: ["Angkor Wat sunrise", "Ta Prohm (Tomb Raider)", "Angkor Thom & Bayon", "Pub Street", "Tonle Sap"],
                nextTravel: [
                    { mode: "üöå Bus", destination: "Kampot", price: "$15-20", duration: "8h" }
                ]
            },
            {
                id: 17, city: "Kampot", country: "Cambodia", lat: 10.5943, lng: 104.1830, duration: "3 days",
                description: "Riverside chill, pepper farms",
                hostels: [
                    { name: "Onederz Kampot", price: "$6/night", rating: "8.8", info: "River views, hammocks" },
                    { name: "Bohemiaz", price: "$8/night", rating: "8.6", info: "Pool, social" }
                ],
                activities: ["Bokor Mountain", "Pepper farm tour", "River kayaking", "Kep crab market", "Secret Lake"],
                nextTravel: [
                    { mode: "‚úàÔ∏è Flight", destination: "Kuala Lumpur", price: "$80-150", duration: "2h" }
                ]
            },
            // MALAYSIA
            {
                id: 18, city: "Kuala Lumpur", country: "Malaysia", lat: 3.1390, lng: 101.6869, duration: "3 days",
                description: "Modern towers, diverse food",
                hostels: [
                    { name: "Reggae Mansion", price: "$8/night", rating: "8.8", info: "Rooftop bar" },
                    { name: "BackHome KL", price: "$10/night", rating: "9.1", info: "Heritage building" }
                ],
                activities: ["Petronas Towers", "Batu Caves", "Jalan Alor food street", "KL Tower", "Chinatown"],
                nextTravel: [
                    { mode: "üöå Bus", destination: "Cameron Highlands", price: "$10-15", duration: "4h" }
                ]
            },
            {
                id: 19, city: "Cameron Highlands", country: "Malaysia", lat: 4.4718, lng: 101.3762, duration: "2 days",
                description: "Tea plantations, cool climate",
                hostels: [
                    { name: "Father's Guesthouse", price: "$8/night", rating: "8.9", info: "Cozy, tours" },
                    { name: "Gerard's Place", price: "$10/night", rating: "8.6", info: "Jungle views" }
                ],
                activities: ["Tea plantation tour", "Mossy Forest trek", "Strawberry farms", "Sunrise hiking", "Night market"],
                nextTravel: [
                    { mode: "üöå Bus", destination: "Penang", price: "$12-18", duration: "4-5h" }
                ]
            },
            {
                id: 20, city: "Penang", country: "Malaysia", lat: 5.4164, lng: 100.3327, duration: "4 days",
                description: "Best street food in Asia",
                hostels: [
                    { name: "Reggae Penang", price: "$7/night", rating: "8.6", info: "George Town" },
                    { name: "The 80s Guesthouse", price: "$9/night", rating: "8.9", info: "Heritage" }
                ],
                activities: ["George Town street art", "Hawker food crawl", "Kek Lok Si Temple", "Penang Hill", "Clan Jetties"],
                nextTravel: [
                    { mode: "‚õ¥Ô∏è Ferry", destination: "Langkawi", price: "$20-30", duration: "2.5h" }
                ]
            },
            {
                id: 21, city: "Langkawi", country: "Malaysia", lat: 6.3500, lng: 99.8000, duration: "3 days",
                description: "Duty-free island paradise",
                hostels: [
                    { name: "My Langkawi Hostel", price: "$10/night", rating: "8.5", info: "Beach close" },
                    { name: "Temple Tree Resort", price: "$15/night", rating: "8.8", info: "Pool, heritage" }
                ],
                activities: ["Sky Bridge & Cable Car", "Island hopping", "Pantai Cenang beach", "Mangrove kayak", "Underwater World"],
                nextTravel: [
                    { mode: "‚úàÔ∏è Flight", destination: "Kolkata", price: "$100-180", duration: "3h" }
                ]
            },
            // INDIA
            {
                id: 22, city: "Kolkata", country: "India", lat: 22.5726, lng: 88.3639, duration: "3 days",
                description: "Gateway to India, Bengali culture",
                hostels: [
                    { name: "Backpacker's Nest", price: "$8/night", rating: "8.5", info: "Helpful staff" },
                    { name: "Sunflower Hostel", price: "$6/night", rating: "8.2", info: "Budget" }
                ],
                activities: ["Victoria Memorial", "Howrah Bridge", "Mother Teresa's House", "Kumartuli", "Street food tour"],
                nextTravel: [
                    { mode: "üöÇ Train", destination: "Varanasi", price: "$15-35", duration: "12-14h" }
                ]
            },
            {
                id: 23, city: "Varanasi", country: "India", lat: 25.3176, lng: 82.9739, duration: "3 days",
                description: "Holiest city, Ganges ghats",
                hostels: [
                    { name: "Zostel Varanasi", price: "$7/night", rating: "8.8", info: "Ganga views" },
                    { name: "Moustache Hostel", price: "$9/night", rating: "8.6", info: "Social" }
                ],
                activities: ["Ganga Aarti ceremony", "Sunrise boat ride", "Ghats walk", "Sarnath day trip", "Blue Lassi Shop"],
                nextTravel: [
                    { mode: "üöÇ Train", destination: "Agra", price: "$10-25", duration: "11-13h" }
                ]
            },
            {
                id: 24, city: "Agra", country: "India", lat: 27.1767, lng: 78.0081, duration: "2 days",
                description: "Taj Mahal, Mughal glory",
                hostels: [
                    { name: "Zostel Agra", price: "$7/night", rating: "8.7", info: "Taj views from roof" },
                    { name: "Joey's Hostel", price: "$6/night", rating: "8.4", info: "Budget" }
                ],
                activities: ["Taj Mahal sunrise", "Agra Fort", "Mehtab Bagh sunset", "Fatehpur Sikri", "Street food"],
                nextTravel: [
                    { mode: "üöÇ Train", destination: "Jaipur", price: "$8-20", duration: "3-4h" }
                ]
            },
            {
                id: 25, city: "Jaipur", country: "India", lat: 26.9124, lng: 75.7873, duration: "3 days",
                description: "Pink City, palaces, forts",
                hostels: [
                    { name: "Zostel Jaipur", price: "$8/night", rating: "9.0", info: "Haveli rooftop" },
                    { name: "Moustache Jaipur", price: "$7/night", rating: "8.7", info: "Pool" }
                ],
                activities: ["Amber Fort", "Hawa Mahal", "City Palace", "Nahargarh Fort sunset", "Johari Bazaar"],
                nextTravel: [
                    { mode: "üöå Bus", destination: "Pushkar", price: "$5-8", duration: "3h" }
                ]
            },
            {
                id: 26, city: "Pushkar", country: "India", lat: 26.4897, lng: 74.5511, duration: "2 days",
                description: "Holy lake, hippie vibes",
                hostels: [
                    { name: "Zostel Pushkar", price: "$6/night", rating: "8.8", info: "Lake views" },
                    { name: "Madpackers Pushkar", price: "$7/night", rating: "8.5", info: "Rooftop cafe" }
                ],
                activities: ["Brahma Temple", "Lake sunset aarti", "Camel safari", "Rooftop cafes", "Shopping"],
                nextTravel: [
                    { mode: "üöå Bus", destination: "Udaipur", price: "$8-12", duration: "5h" }
                ]
            },
            {
                id: 27, city: "Udaipur", country: "India", lat: 24.5854, lng: 73.7125, duration: "3 days",
                description: "City of Lakes, romantic",
                hostels: [
                    { name: "Zostel Udaipur", price: "$7/night", rating: "9.0", info: "Lake views" },
                    { name: "Bunkyard Hostel", price: "$8/night", rating: "8.8", info: "Rooftop pool" }
                ],
                activities: ["City Palace", "Lake Pichola boat ride", "Rooftop restaurants", "Jagdish Temple", "Monsoon Palace sunset"],
                nextTravel: [
                    { mode: "üöÇ Train", destination: "Delhi", price: "$15-35", duration: "12h" },
                    { mode: "‚úàÔ∏è Flight", destination: "Delhi", price: "$50-90", duration: "1h" }
                ]
            },
            {
                id: 28, city: "Delhi", country: "India", lat: 28.6139, lng: 77.2090, duration: "3 days",
                description: "Capital chaos, Mughal history",
                hostels: [
                    { name: "Zostel Delhi", price: "$9/night", rating: "8.8", info: "Paharganj" },
                    { name: "Madpackers Delhi", price: "$10/night", rating: "9.0", info: "South Delhi" }
                ],
                activities: ["Red Fort", "Qutub Minar", "Humayun's Tomb", "Chandni Chowk food", "India Gate"],
                nextTravel: [
                    { mode: "üöÇ Train", destination: "Amritsar", price: "$10-30", duration: "6-7h" }
                ]
            },
            {
                id: 29, city: "Amritsar", country: "India", lat: 31.6340, lng: 74.8723, duration: "2 days",
                description: "Golden Temple, border ceremony",
                hostels: [
                    { name: "Zostel Amritsar", price: "$7/night", rating: "8.6", info: "Near temple" },
                    { name: "Jugaadus Hostel", price: "$6/night", rating: "8.3", info: "Rooftop" }
                ],
                activities: ["Golden Temple (24/7)", "Wagah Border ceremony", "Jallianwala Bagh", "Punjabi food feast", "Partition Museum"],
                nextTravel: [
                    { mode: "‚úàÔ∏è Flight", destination: "Kathmandu", price: "$150-250", duration: "2h" }
                ]
            },
            // NEPAL
            {
                id: 30, city: "Kathmandu", country: "Nepal", lat: 27.7172, lng: 85.3240, duration: "4 days",
                description: "Himalayan gateway, temples",
                hostels: [
                    { name: "Elbrus Home", price: "$8/night", rating: "9.2", info: "Thamel, great vibe" },
                    { name: "Zostel Kathmandu", price: "$9/night", rating: "8.8", info: "Rooftop" }
                ],
                activities: ["Swayambhunath (Monkey Temple)", "Boudhanath Stupa", "Durbar Square", "Thamel exploration", "Day trip Nagarkot"],
                nextTravel: [
                    { mode: "üöå Bus", destination: "Pokhara", price: "$10-15", duration: "7-8h" }
                ]
            },
            {
                id: 31, city: "Pokhara", country: "Nepal", lat: 28.2096, lng: 83.9856, duration: "5 days",
                description: "Lakeside chill, trekking base",
                hostels: [
                    { name: "Zostel Pokhara", price: "$8/night", rating: "9.0", info: "Lake views, social" },
                    { name: "Paknajol Hostel", price: "$6/night", rating: "8.5", info: "Budget lakeside" }
                ],
                activities: ["Phewa Lake boating", "Sarangkot sunrise", "Peace Pagoda hike", "Paragliding", "Short Annapurna trek"],
                nextTravel: [
                    { mode: "‚úàÔ∏è Flight", destination: "Kathmandu", price: "$80-120", duration: "25m" },
                    { mode: "‚úàÔ∏è Flight", destination: "Dubai/Istanbul", price: "$250-450", duration: "5-8h" }
                ]
            },
            {
                id: 32, city: "Kathmandu (Exit)", country: "Nepal", lat: 27.7000, lng: 85.3333, duration: "2 days",
                description: "Final days, fly home or continue west",
                hostels: [
                    { name: "Elbrus Home", price: "$8/night", rating: "9.2", info: "Return to fave" }
                ],
                activities: ["Last minute shopping", "Patan Durbar Square", "Bhaktapur day trip", "Final dal bhat", "Reflect on 6 months!"],
                nextTravel: [
                    { mode: "‚úàÔ∏è Flight", destination: "Home / Middle East / Europe", price: "$300-600", duration: "Varies" }
                ]
            }
        ];
        
        // Group stops by country
        const countries = [...new Set(travelRoute.map(s => s.country))];
        const countryFlags = {
            "Thailand": "üáπüá≠",
            "Laos": "üá±üá¶", 
            "Vietnam": "üáªüá≥",
            "Cambodia": "üá∞üá≠",
            "Malaysia": "üá≤üáæ",
            "India": "üáÆüá≥",
            "Nepal": "üá≥üáµ"
        };
        
        // Initialize map
        const map = L.map('map').setView([18, 100], 4);
        
        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; OpenStreetMap &copy; CARTO',
            subdomains: 'abcd',
            maxZoom: 19
        }).addTo(map);
        
        // Custom marker icon
        function createMarkerIcon(number) {
            return L.divIcon({
                className: 'custom-marker',
                html: `<div style="
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    width: 26px;
                    height: 26px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: bold;
                    font-size: 11px;
                    border: 2px solid white;
                    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
                ">${number}</div>`,
                iconSize: [26, 26],
                iconAnchor: [13, 13]
            });
        }
        
        // Add markers and route
        const markers = [];
        const routePoints = [];
        
        travelRoute.forEach((stop, index) => {
            const marker = L.marker([stop.lat, stop.lng], {
                icon: createMarkerIcon(stop.id)
            }).addTo(map);
            
            marker.bindPopup(`
                <div class="popup-content">
                    <h3>${stop.city}</h3>
                    <p>${stop.country} ‚Ä¢ ${stop.duration}</p>
                    <p>${stop.description}</p>
                </div>
            `);
            
            marker.on('click', () => {
                selectStop(stop.id);
            });
            
            markers.push(marker);
            routePoints.push([stop.lat, stop.lng]);
        });
        
        // Draw route line
        L.polyline(routePoints, {
            color: '#667eea',
            weight: 2,
            opacity: 0.6,
            dashArray: '8, 8'
        }).addTo(map);
        
        // Render sidebar
        function renderSidebar() {
            const container = document.getElementById('stops-list');
            let html = '';
            
            countries.forEach(country => {
                const countryStops = travelRoute.filter(s => s.country === country);
                html += `<div class="country-section">
                    <div class="country-header">${countryFlags[country]} ${country} (${countryStops.length} stops)</div>`;
                
                countryStops.forEach(stop => {
                    html += `
                        <div class="stop-card" data-id="${stop.id}" onclick="selectStop(${stop.id})">
                            <div class="stop-header">
                                <div style="display: flex; align-items: center;">
                                    <div class="stop-number">${stop.id}</div>
                                    <div class="stop-name">${stop.city}</div>
                                </div>
                                <div class="stop-duration">${stop.duration}</div>
                            </div>
                            
                            <div class="stop-details">
                                <div class="detail-section">
                                    <h4>üõèÔ∏è Hostels</h4>
                                    ${stop.hostels.map(h => `
                                        <div class="detail-item">
                                            <div class="name">${h.name}</div>
                                            <div class="info">${h.info}</div>
                                            <div class="price">${h.price} ‚Ä¢ ‚≠ê ${h.rating}</div>
                                        </div>
                                    `).join('')}
                                </div>
                                
                                <div class="detail-section">
                                    <h4>üéØ Things to Do</h4>
                                    ${stop.activities.map(a => `
                                        <div class="detail-item"><div class="name">${a}</div></div>
                                    `).join('')}
                                </div>
                                
                                ${stop.nextTravel ? `
                                    <div class="travel-info">
                                        <h4>üöÄ Next Stop</h4>
                                        ${stop.nextTravel.map(t => `
                                            <div class="travel-option">
                                                <div class="mode">${t.mode} ‚Üí ${t.destination}</div>
                                                <div>
                                                    <span class="price">${t.price}</span>
                                                    <span class="time"> ‚Ä¢ ${t.duration}</span>
                                                </div>
                                            </div>
                                        `).join('')}
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    `;
                });
                
                html += '</div>';
            });
            
            container.innerHTML = html;
        }
        
        // Select stop
        function selectStop(id) {
            document.querySelectorAll('.stop-card').forEach(card => {
                card.classList.remove('active');
            });
            const activeCard = document.querySelector(`.stop-card[data-id="${id}"]`);
            if (activeCard) {
                activeCard.classList.add('active');
                activeCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            
            const stop = travelRoute.find(s => s.id === id);
            if (stop) {
                map.setView([stop.lat, stop.lng], 7, { animate: true });
                markers[id - 1].openPopup();
            }
        }
        
        renderSidebar();
    </script>
</body>
</html>
