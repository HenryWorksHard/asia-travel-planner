<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asia Adventure - 6 Month Travel Planner</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background: #1a1a2e; color: #eee; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px 30px; display: flex; justify-content: space-between; align-items: center; }
        .header h1 { font-size: 1.8rem; font-weight: 600; }
        .header .stats { display: flex; gap: 30px; }
        .stat { text-align: center; }
        .stat-value { font-size: 1.5rem; font-weight: 700; }
        .stat-label { font-size: 0.75rem; opacity: 0.8; }
        .main-container { display: flex; height: calc(100vh - 80px); }
        #map { flex: 1; height: 100%; }
        .sidebar { width: 400px; background: #16213e; overflow-y: auto; border-left: 1px solid #333; }
        .sidebar-header { padding: 20px; background: #1a1a2e; border-bottom: 1px solid #333; position: sticky; top: 0; z-index: 100; }
        .sidebar-header h2 { font-size: 1.2rem; margin-bottom: 5px; }
        .sidebar-header p { font-size: 0.85rem; opacity: 0.7; }
        .country-section { border-bottom: 2px solid #667eea; }
        .country-header { background: linear-gradient(135deg, #1f4068 0%, #16213e 100%); padding: 12px 20px; font-weight: 600; font-size: 0.9rem; display: flex; align-items: center; gap: 8px; }
        .stop-card { padding: 15px 20px; border-bottom: 1px solid #333; cursor: pointer; transition: background 0.2s; }
        .stop-card:hover { background: #1a1a2e; }
        .stop-card.active { background: #1f4068; border-left: 4px solid #667eea; }
        .stop-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 5px; }
        .stop-number { background: #667eea; color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; font-weight: 600; }
        .stop-name { font-size: 1rem; font-weight: 600; flex: 1; margin-left: 10px; }
        .stop-duration { background: #333; padding: 3px 8px; border-radius: 10px; font-size: 0.7rem; }
        .stop-details { margin-top: 12px; display: none; }
        .stop-card.active .stop-details { display: block; }
        .detail-section { margin-bottom: 12px; }
        .detail-section h4 { font-size: 0.8rem; color: #667eea; margin-bottom: 6px; display: flex; align-items: center; gap: 5px; }
        .detail-item { background: #1a1a2e; padding: 8px 10px; border-radius: 6px; margin-bottom: 4px; font-size: 0.8rem; }
        .detail-item .name { font-weight: 500; }
        .detail-item .info { opacity: 0.7; font-size: 0.75rem; }
        .detail-item .price { color: #4ade80; font-weight: 600; }
        .travel-info { background: linear-gradient(135deg, #1f4068 0%, #16213e 100%); padding: 10px; border-radius: 6px; margin-top: 8px; }
        .travel-info h4 { font-size: 0.75rem; margin-bottom: 6px; opacity: 0.8; }
        .travel-option { display: flex; justify-content: space-between; align-items: center; padding: 6px 0; border-bottom: 1px solid #333; font-size: 0.8rem; }
        .travel-option:last-child { border-bottom: none; }
        .travel-option .mode { display: flex; align-items: center; gap: 6px; }
        .travel-option .price { color: #4ade80; font-weight: 600; }
        .travel-option .time { font-size: 0.7rem; opacity: 0.7; }
        .leaflet-popup-content-wrapper { background: #16213e; color: #eee; border-radius: 12px; }
        .leaflet-popup-tip { background: #16213e; }
        .popup-content h3 { font-size: 1rem; margin-bottom: 3px; }
        .popup-content p { font-size: 0.8rem; opacity: 0.8; }
        @media (max-width: 768px) {
            .main-container { flex-direction: column; }
            .sidebar { width: 100%; height: 50vh; }
            #map { height: 50vh; }
            .header { flex-direction: column; gap: 15px; }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>ğŸŒ Asia Adventure</h1>
        <div class="stats">
            <div class="stat"><div class="stat-value">6</div><div class="stat-label">Months</div></div>
            <div class="stat"><div class="stat-value">8</div><div class="stat-label">Countries</div></div>
            <div class="stat"><div class="stat-value">32</div><div class="stat-label">Stops</div></div>
            <div class="stat"><div class="stat-value">~$8,000</div><div class="stat-label">Est. Budget</div></div>
        </div>
    </header>
    
    <div class="main-container">
        <div id="map"></div>
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>Travel Route</h2>
                <p>Bangkok â†’ Southeast Asia â†’ Indonesia â€¢ 32 stops</p>
            </div>
            <div id="stops-list"></div>
        </aside>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const travelRoute = [
            // THAILAND
            {
                id: 1, city: "Bangkok", country: "Thailand", lat: 13.7563, lng: 100.5018, duration: "4 days",
                description: "Start in the Land of Smiles",
                hostels: [
                    { name: "Lub d Bangkok Siam", price: "$12/night", rating: "9.2", info: "Rooftop pool, central" },
                    { name: "NapPark Hostel", price: "$8/night", rating: "8.8", info: "Khao San area" }
                ],
                activities: ["Grand Palace & Wat Phra Kaew", "Chatuchak Weekend Market", "Khao San Road", "Floating markets"],
                nextTravel: [
                    { mode: "ğŸš‚ Train", destination: "Ayutthaya", price: "$2-5", duration: "1.5h" }
                ]
            },
            {
                id: 2, city: "Ayutthaya", country: "Thailand", lat: 14.3692, lng: 100.5877, duration: "2 days",
                description: "Ancient temple ruins, UNESCO site",
                hostels: [
                    { name: "Baan Are Gong", price: "$8/night", rating: "9.0", info: "Riverside, bikes included" },
                    { name: "Tony's Place", price: "$6/night", rating: "8.5", info: "Budget, central" }
                ],
                activities: ["Wat Mahathat (Buddha head in tree)", "Cycle the ruins", "Wat Chaiwatthanaram", "Night market"],
                nextTravel: [
                    { mode: "ğŸš‚ Train", destination: "Chiang Mai", price: "$18-40", duration: "10h" }
                ]
            },
            {
                id: 3, city: "Chiang Mai", country: "Thailand", lat: 18.7883, lng: 98.9853, duration: "5 days",
                description: "Temples, mountains, digital nomad hub",
                hostels: [
                    { name: "Stamps Backpackers", price: "$7/night", rating: "9.1", info: "Best social hostel" },
                    { name: "Hug Hostel", price: "$9/night", rating: "8.9", info: "Great breakfast" }
                ],
                activities: ["Doi Suthep Temple", "Elephant Nature Park", "Sunday Walking Street", "Muay Thai class", "Cooking class"],
                nextTravel: [
                    { mode: "ğŸšŒ Minivan", destination: "Pai", price: "$5-8", duration: "3h" }
                ]
            },
            {
                id: 4, city: "Pai", country: "Thailand", lat: 19.3597, lng: 98.4408, duration: "4 days",
                description: "Hippie mountain town, chill vibes",
                hostels: [
                    { name: "Pai Circus Hostel", price: "$6/night", rating: "9.0", info: "Pool, fire shows" },
                    { name: "Common Grounds", price: "$8/night", rating: "8.8", info: "Social, garden" }
                ],
                activities: ["Pai Canyon sunset", "Hot springs", "Pam Bok Waterfall", "Night market", "Rent a scooter"],
                nextTravel: [
                    { mode: "ğŸšŒ Bus", destination: "Chiang Rai", price: "$10-15", duration: "4h" }
                ]
            },
            {
                id: 5, city: "Chiang Rai", country: "Thailand", lat: 19.9105, lng: 99.8406, duration: "2 days",
                description: "White Temple, border town",
                hostels: [
                    { name: "Mercy Hostel", price: "$7/night", rating: "8.9", info: "Modern, rooftop" },
                    { name: "Connect Hostel", price: "$6/night", rating: "8.5", info: "Central, social" }
                ],
                activities: ["White Temple", "Blue Temple", "Black House", "Night Bazaar", "Golden Triangle day trip"],
                nextTravel: [
                    { mode: "â›µ Slow Boat", destination: "Luang Prabang", price: "$35-50", duration: "2 days" }
                ]
            },
            // LAOS
            {
                id: 6, city: "Luang Prabang", country: "Laos", lat: 19.8850, lng: 102.1347, duration: "4 days",
                description: "UNESCO town on the Mekong",
                hostels: [
                    { name: "Safehouse Hostel", price: "$8/night", rating: "8.7", info: "Rooftop bar" },
                    { name: "Downtown Backpackers", price: "$6/night", rating: "8.3", info: "Central" }
                ],
                activities: ["Alms giving (sunrise)", "Kuang Si Waterfalls", "Night market", "Pak Ou Caves", "Mekong cruise"],
                nextTravel: [
                    { mode: "ğŸšŒ Bus", destination: "Vang Vieng", price: "$12-18", duration: "5-6h" }
                ]
            },
            {
                id: 7, city: "Vang Vieng", country: "Laos", lat: 18.9220, lng: 102.4473, duration: "3 days",
                description: "Karst mountains, tubing, adventure",
                hostels: [
                    { name: "Nana Backpackers", price: "$6/night", rating: "8.8", info: "River views, social" },
                    { name: "Vang Vieng Eco Lodge", price: "$8/night", rating: "8.5", info: "Quiet option" }
                ],
                activities: ["River tubing", "Blue Lagoons", "Kayaking", "Hot air balloon", "Caves exploration"],
                nextTravel: [
                    { mode: "ğŸšŒ Bus", destination: "Vientiane", price: "$8-12", duration: "3-4h" }
                ]
            },
            {
                id: 8, city: "Vientiane", country: "Laos", lat: 17.9757, lng: 102.6331, duration: "2 days",
                description: "Chill capital, Mekong riverside",
                hostels: [
                    { name: "Dream Home Hostel", price: "$5/night", rating: "8.6", info: "Budget, central" },
                    { name: "Barn 1920s Hostel", price: "$7/night", rating: "8.8", info: "Heritage building" }
                ],
                activities: ["Patuxai Victory Gate", "Buddha Park", "Mekong sunset", "COPE Visitor Centre", "Night market"],
                nextTravel: [
                    { mode: "âœˆï¸ Flight", destination: "Hanoi", price: "$60-100", duration: "1h" }
                ]
            },
            // VIETNAM
            {
                id: 9, city: "Hanoi", country: "Vietnam", lat: 21.0285, lng: 105.8542, duration: "4 days",
                description: "Chaotic charm, incredible food",
                hostels: [
                    { name: "Nexy Hostel", price: "$8/night", rating: "9.3", info: "Best hostel in Hanoi" },
                    { name: "Old Quarter View", price: "$6/night", rating: "8.5", info: "Cheap beer corner" }
                ],
                activities: ["Old Quarter exploration", "Street food tour", "Train Street", "Ho Chi Minh Mausoleum", "Water puppet show"],
                nextTravel: [
                    { mode: "ğŸšŒ Bus", destination: "Ha Long Bay", price: "$15-25", duration: "3-4h" }
                ]
            },
            {
                id: 10, city: "Ha Long Bay", country: "Vietnam", lat: 20.9101, lng: 107.1839, duration: "2 days",
                description: "Limestone karsts, boat cruise",
                hostels: [
                    { name: "Overnight Cruise", price: "$45-80", rating: "9.0", info: "Cruise with cabin" }
                ],
                activities: ["Overnight cruise", "Kayaking", "Sung Sot Cave", "Ti Top Island", "Floating village"],
                nextTravel: [
                    { mode: "ğŸšŒ Bus", destination: "Ninh Binh", price: "$12-18", duration: "4h" }
                ]
            },
            {
                id: 11, city: "Ninh Binh", country: "Vietnam", lat: 20.2539, lng: 105.9750, duration: "2 days",
                description: "Ha Long Bay on land",
                hostels: [
                    { name: "Tam Coc Bungalow", price: "$10/night", rating: "9.1", info: "Rice field views" },
                    { name: "Nguyen Shack", price: "$8/night", rating: "8.7", info: "Eco homestay" }
                ],
                activities: ["Tam Coc boat ride", "Mua Cave viewpoint", "Bai Dinh Pagoda", "Cycling rice fields", "Trang An"],
                nextTravel: [
                    { mode: "ğŸš‚ Train", destination: "Hue", price: "$25-45", duration: "10-12h" }
                ]
            },
            {
                id: 12, city: "Hue", country: "Vietnam", lat: 16.4637, lng: 107.5909, duration: "2 days",
                description: "Imperial city, royal tombs",
                hostels: [
                    { name: "Vietnam Backpackers Hue", price: "$7/night", rating: "8.8", info: "Pool, social" },
                    { name: "Midtown Hostel", price: "$6/night", rating: "8.5", info: "Central, clean" }
                ],
                activities: ["Imperial Citadel", "Royal tombs", "Thien Mu Pagoda", "DMZ tour", "Perfume River cruise"],
                nextTravel: [
                    { mode: "ğŸš‚ Train", destination: "Da Nang/Hoi An", price: "$8-15", duration: "2.5h" }
                ]
            },
            {
                id: 13, city: "Hoi An", country: "Vietnam", lat: 15.8801, lng: 108.3380, duration: "4 days",
                description: "Lantern town, tailors, beach",
                hostels: [
                    { name: "Tribee Bana", price: "$8/night", rating: "9.2", info: "Pool, bikes free" },
                    { name: "Cucina Hostel", price: "$7/night", rating: "8.9", info: "Cooking classes" }
                ],
                activities: ["Ancient Town at night", "Get clothes tailored", "An Bang Beach", "Basket boat tour", "Cooking class"],
                nextTravel: [
                    { mode: "âœˆï¸ Flight", destination: "Ho Chi Minh", price: "$35-70", duration: "1h 15m" }
                ]
            },
            {
                id: 14, city: "Ho Chi Minh City", country: "Vietnam", lat: 10.8231, lng: 106.6297, duration: "3 days",
                description: "Energetic metropolis, war history",
                hostels: [
                    { name: "The Common Room", price: "$9/night", rating: "9.1", info: "Design hostel" },
                    { name: "Flipside Hostel", price: "$11/night", rating: "9.0", info: "Rooftop pool" }
                ],
                activities: ["Cu Chi Tunnels", "War Remnants Museum", "Ben Thanh Market", "Bui Vien Walking Street", "Coffee culture"],
                nextTravel: [
                    { mode: "ğŸšŒ Bus", destination: "Phnom Penh", price: "$15-25", duration: "6-7h" }
                ]
            },
            // CAMBODIA
            {
                id: 15, city: "Phnom Penh", country: "Cambodia", lat: 11.5564, lng: 104.9282, duration: "3 days",
                description: "Sobering history, riverside charm",
                hostels: [
                    { name: "Mad Monkey", price: "$7/night", rating: "8.9", info: "Pool, party vibe" },
                    { name: "Onederz Hostel", price: "$5/night", rating: "8.4", info: "Riverside" }
                ],
                activities: ["Killing Fields & S-21", "Royal Palace", "Riverside sunset", "Russian Market", "Street 308"],
                nextTravel: [
                    { mode: "ğŸšŒ Bus", destination: "Siem Reap", price: "$10-15", duration: "6h" }
                ]
            },
            {
                id: 16, city: "Siem Reap", country: "Cambodia", lat: 13.3671, lng: 103.8448, duration: "4 days",
                description: "Angkor Wat, ancient temples",
                hostels: [
                    { name: "Lub d Siem Reap", price: "$10/night", rating: "9.0", info: "Pool, modern" },
                    { name: "Funky Flashpacker", price: "$8/night", rating: "8.7", info: "Pool, good vibes" }
                ],
                activities: ["Angkor Wat sunrise", "Ta Prohm (Tomb Raider)", "Angkor Thom & Bayon", "Pub Street", "Tonle Sap"],
                nextTravel: [
                    { mode: "ğŸšŒ Bus", destination: "Kampot", price: "$15-20", duration: "8h" }
                ]
            },
            {
                id: 17, city: "Kampot", country: "Cambodia", lat: 10.5943, lng: 104.1830, duration: "3 days",
                description: "Riverside chill, pepper farms",
                hostels: [
                    { name: "Onederz Kampot", price: "$6/night", rating: "8.8", info: "River views, hammocks" },
                    { name: "Bohemiaz", price: "$8/night", rating: "8.6", info: "Pool, social" }
                ],
                activities: ["Bokor Mountain", "Pepper farm tour", "River kayaking", "Kep crab market", "Secret Lake"],
                nextTravel: [
                    { mode: "âœˆï¸ Flight", destination: "Kuala Lumpur", price: "$60-120", duration: "1.5h" }
                ]
            },
            // MALAYSIA
            {
                id: 18, city: "Kuala Lumpur", country: "Malaysia", lat: 3.1390, lng: 101.6869, duration: "3 days",
                description: "Modern towers, diverse food",
                hostels: [
                    { name: "Reggae Mansion", price: "$8/night", rating: "8.8", info: "Rooftop bar" },
                    { name: "BackHome KL", price: "$10/night", rating: "9.1", info: "Heritage building" }
                ],
                activities: ["Petronas Towers", "Batu Caves", "Jalan Alor food street", "KL Tower", "Chinatown"],
                nextTravel: [
                    { mode: "ğŸšŒ Bus", destination: "Melaka", price: "$8-12", duration: "2h" }
                ]
            },
            {
                id: 19, city: "Melaka", country: "Malaysia", lat: 2.1896, lng: 102.2501, duration: "2 days",
                description: "Historic port city, UNESCO site",
                hostels: [
                    { name: "Nomaps Hostel", price: "$9/night", rating: "9.0", info: "Central, modern" },
                    { name: "River One Residence", price: "$7/night", rating: "8.5", info: "River views" }
                ],
                activities: ["Jonker Street night market", "A Famosa fort", "River cruise", "Peranakan museum", "Chicken rice balls"],
                nextTravel: [
                    { mode: "ğŸšŒ Bus", destination: "Cameron Highlands", price: "$15-20", duration: "5h" }
                ]
            },
            {
                id: 20, city: "Cameron Highlands", country: "Malaysia", lat: 4.4718, lng: 101.3762, duration: "2 days",
                description: "Tea plantations, cool climate",
                hostels: [
                    { name: "Father's Guesthouse", price: "$8/night", rating: "8.9", info: "Cozy, tours" },
                    { name: "Gerard's Place", price: "$10/night", rating: "8.6", info: "Jungle views" }
                ],
                activities: ["Tea plantation tour", "Mossy Forest trek", "Strawberry farms", "Sunrise hiking", "Night market"],
                nextTravel: [
                    { mode: "ğŸšŒ Bus", destination: "Penang", price: "$12-18", duration: "4-5h" }
                ]
            },
            {
                id: 21, city: "Penang", country: "Malaysia", lat: 5.4164, lng: 100.3327, duration: "4 days",
                description: "Best street food in Asia",
                hostels: [
                    { name: "Reggae Penang", price: "$7/night", rating: "8.6", info: "George Town" },
                    { name: "The 80s Guesthouse", price: "$9/night", rating: "8.9", info: "Heritage" }
                ],
                activities: ["George Town street art", "Hawker food crawl", "Kek Lok Si Temple", "Penang Hill", "Clan Jetties"],
                nextTravel: [
                    { mode: "â›´ï¸ Ferry", destination: "Langkawi", price: "$20-30", duration: "2.5h" }
                ]
            },
            {
                id: 22, city: "Langkawi", country: "Malaysia", lat: 6.3500, lng: 99.8000, duration: "3 days",
                description: "Duty-free island paradise",
                hostels: [
                    { name: "My Langkawi Hostel", price: "$10/night", rating: "8.5", info: "Beach close" },
                    { name: "Temple Tree Resort", price: "$15/night", rating: "8.8", info: "Pool, heritage" }
                ],
                activities: ["Sky Bridge & Cable Car", "Island hopping", "Pantai Cenang beach", "Mangrove kayak", "Underwater World"],
                nextTravel: [
                    { mode: "âœˆï¸ Flight", destination: "Singapore", price: "$40-80", duration: "1.5h" }
                ]
            },
            // SINGAPORE
            {
                id: 23, city: "Singapore", country: "Singapore", lat: 1.3521, lng: 103.8198, duration: "3 days",
                description: "Futuristic city-state, food paradise",
                hostels: [
                    { name: "CapsuleTransit KLIA", price: "$25/night", rating: "8.5", info: "Pods, modern" },
                    { name: "Adler Hostel", price: "$30/night", rating: "8.8", info: "Chinatown" },
                    { name: "Dream Lodge", price: "$20/night", rating: "8.3", info: "Little India" }
                ],
                activities: ["Marina Bay Sands", "Gardens by the Bay", "Hawker centres", "Sentosa Island", "Little India & Chinatown"],
                nextTravel: [
                    { mode: "âœˆï¸ Flight", destination: "Jakarta", price: "$50-100", duration: "1h 40m" }
                ]
            },
            // INDONESIA
            {
                id: 24, city: "Jakarta", country: "Indonesia", lat: -6.2088, lng: 106.8456, duration: "2 days",
                description: "Chaotic capital, gateway to Java",
                hostels: [
                    { name: "Cara Cara Inn", price: "$12/night", rating: "8.7", info: "Menteng area, clean" },
                    { name: "Kota Tua Hostel", price: "$8/night", rating: "8.3", info: "Old town" }
                ],
                activities: ["Kota Tua (Old Town)", "National Museum", "Monas monument", "Street food tour", "Nightlife in Kemang"],
                nextTravel: [
                    { mode: "ğŸš‚ Train", destination: "Yogyakarta", price: "$20-40", duration: "7-8h" }
                ]
            },
            {
                id: 25, city: "Yogyakarta", country: "Indonesia", lat: -7.7956, lng: 110.3695, duration: "4 days",
                description: "Cultural heart of Java, temples",
                hostels: [
                    { name: "Otu Hostel", price: "$8/night", rating: "9.2", info: "Amazing design, pool" },
                    { name: "Wonderloft Hostel", price: "$10/night", rating: "9.0", info: "Social, central" }
                ],
                activities: ["Borobudur sunrise", "Prambanan temples", "Kraton Palace", "Malioboro Street", "Jomblang Cave"],
                nextTravel: [
                    { mode: "ğŸš‚ Train", destination: "Surabaya", price: "$15-30", duration: "4-5h" },
                    { mode: "âœˆï¸ Flight", destination: "Bali", price: "$40-80", duration: "1h 15m" }
                ]
            },
            {
                id: 26, city: "Bali - Ubud", country: "Indonesia", lat: -8.5069, lng: 115.2625, duration: "5 days",
                description: "Rice terraces, yoga, culture",
                hostels: [
                    { name: "Puri Garden Hostel", price: "$12/night", rating: "9.0", info: "Pool, peaceful" },
                    { name: "In Da Lodge", price: "$10/night", rating: "8.8", info: "Social, jungle" }
                ],
                activities: ["Tegallalang rice terraces", "Ubud Monkey Forest", "Tirta Empul temple", "Yoga classes", "Art markets"],
                nextTravel: [
                    { mode: "ğŸ›µ Scooter", destination: "Canggu", price: "$5-8", duration: "1h" }
                ]
            },
            {
                id: 27, city: "Bali - Canggu", country: "Indonesia", lat: -8.6478, lng: 115.1385, duration: "4 days",
                description: "Surf town, beach clubs, digital nomads",
                hostels: [
                    { name: "The Farm Hostel", price: "$15/night", rating: "9.1", info: "Pool, co-working" },
                    { name: "Kos One Hostel", price: "$12/night", rating: "8.9", info: "Social, beach close" }
                ],
                activities: ["Surf lessons", "Beach clubs (La Brisa, Finns)", "Echo Beach sunset", "Tanah Lot temple", "Cafe hopping"],
                nextTravel: [
                    { mode: "ğŸ›µ Scooter", destination: "Seminyak/Kuta", price: "$3-5", duration: "20m" }
                ]
            },
            {
                id: 28, city: "Bali - Uluwatu", country: "Indonesia", lat: -8.8291, lng: 115.0849, duration: "3 days",
                description: "Cliffside temples, epic surf",
                hostels: [
                    { name: "Mule Malu Tropical Stay", price: "$18/night", rating: "9.0", info: "Pool, cliff views" },
                    { name: "Mellow Hostel", price: "$12/night", rating: "8.7", info: "Surf vibes" }
                ],
                activities: ["Uluwatu Temple & Kecak dance", "Single Fin Sunday sessions", "Padang Padang beach", "Surfing", "Sunset cliffs"],
                nextTravel: [
                    { mode: "â›´ï¸ Fast Boat", destination: "Gili Islands", price: "$30-50", duration: "1.5-2h" }
                ]
            },
            {
                id: 29, city: "Gili Trawangan", country: "Indonesia", lat: -8.3510, lng: 116.0346, duration: "4 days",
                description: "Party island, no cars, diving",
                hostels: [
                    { name: "Gili Castle", price: "$12/night", rating: "9.0", info: "Pool, parties" },
                    { name: "Mojo Hostel", price: "$10/night", rating: "8.7", info: "Beach front" }
                ],
                activities: ["Scuba diving/snorkeling", "Bike around the island", "Sunset swings", "Beach bars", "Freediving course"],
                nextTravel: [
                    { mode: "â›´ï¸ Public Boat", destination: "Gili Air", price: "$3-5", duration: "15m" }
                ]
            },
            {
                id: 30, city: "Gili Air", country: "Indonesia", lat: -8.3667, lng: 116.0833, duration: "3 days",
                description: "Chill island, best of both worlds",
                hostels: [
                    { name: "Captain Coconuts", price: "$12/night", rating: "8.9", info: "Beachfront, hammocks" },
                    { name: "Youpy Bungalows", price: "$15/night", rating: "8.6", info: "Private huts" }
                ],
                activities: ["Snorkeling with turtles", "Yoga retreats", "Beachside cafes", "Sunset kayaking", "Island vibes"],
                nextTravel: [
                    { mode: "â›´ï¸ Fast Boat", destination: "Lombok", price: "$15-25", duration: "30m" }
                ]
            },
            {
                id: 31, city: "Lombok", country: "Indonesia", lat: -8.5833, lng: 116.1167, duration: "4 days",
                description: "Quieter Bali, stunning beaches",
                hostels: [
                    { name: "Kuta Lombok Hostel", price: "$10/night", rating: "8.8", info: "Kuta beach area" },
                    { name: "Pipes Hostel", price: "$12/night", rating: "8.6", info: "Surf spot" }
                ],
                activities: ["Kuta Lombok beaches", "Tanjung Aan", "Surf Gerupuk", "Sasak village visit", "Pink Beach day trip"],
                nextTravel: [
                    { mode: "âœˆï¸ Flight", destination: "Labuan Bajo (Komodo)", price: "$60-120", duration: "1h" },
                    { mode: "âœˆï¸ Flight", destination: "Home", price: "$200-500", duration: "Varies" }
                ]
            },
            {
                id: 32, city: "Labuan Bajo (Komodo)", country: "Indonesia", lat: -8.4500, lng: 119.8833, duration: "3 days",
                description: "Dragons, diving, paradise ending",
                hostels: [
                    { name: "Le Pirate", price: "$20/night", rating: "9.0", info: "Island vibes" },
                    { name: "Ciao Hostel", price: "$12/night", rating: "8.7", info: "Town center" }
                ],
                activities: ["Komodo National Park tour", "See Komodo dragons!", "Padar Island hike", "Manta ray diving", "Pink Beach"],
                nextTravel: [
                    { mode: "âœˆï¸ Flight", destination: "Bali â†’ Home", price: "$50-100 + intl", duration: "1h + varies" }
                ]
            }
        ];
        
        const countries = [...new Set(travelRoute.map(s => s.country))];
        const countryFlags = {
            "Thailand": "ğŸ‡¹ğŸ‡­", "Laos": "ğŸ‡±ğŸ‡¦", "Vietnam": "ğŸ‡»ğŸ‡³", "Cambodia": "ğŸ‡°ğŸ‡­",
            "Malaysia": "ğŸ‡²ğŸ‡¾", "Singapore": "ğŸ‡¸ğŸ‡¬", "Indonesia": "ğŸ‡®ğŸ‡©"
        };
        
        const map = L.map('map').setView([5, 110], 4);
        
        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; OpenStreetMap &copy; CARTO',
            subdomains: 'abcd',
            maxZoom: 19
        }).addTo(map);
        
        function createMarkerIcon(number) {
            return L.divIcon({
                className: 'custom-marker',
                html: `<div style="background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:10px;border:2px solid white;box-shadow:0 2px 8px rgba(0,0,0,0.3);">${number}</div>`,
                iconSize: [24, 24],
                iconAnchor: [12, 12]
            });
        }
        
        const markers = [];
        const routePoints = [];
        
        travelRoute.forEach((stop) => {
            const marker = L.marker([stop.lat, stop.lng], { icon: createMarkerIcon(stop.id) }).addTo(map);
            marker.bindPopup(`<div class="popup-content"><h3>${stop.city}</h3><p>${stop.country} â€¢ ${stop.duration}</p><p>${stop.description}</p></div>`);
            marker.on('click', () => selectStop(stop.id));
            markers.push(marker);
            routePoints.push([stop.lat, stop.lng]);
        });
        
        L.polyline(routePoints, { color: '#667eea', weight: 2, opacity: 0.6, dashArray: '8, 8' }).addTo(map);
        
        function renderSidebar() {
            const container = document.getElementById('stops-list');
            let html = '';
            countries.forEach(country => {
                const countryStops = travelRoute.filter(s => s.country === country);
                html += `<div class="country-section"><div class="country-header">${countryFlags[country]} ${country} (${countryStops.length} stops)</div>`;
                countryStops.forEach(stop => {
                    html += `<div class="stop-card" data-id="${stop.id}" onclick="selectStop(${stop.id})">
                        <div class="stop-header">
                            <div style="display:flex;align-items:center;">
                                <div class="stop-number">${stop.id}</div>
                                <div class="stop-name">${stop.city}</div>
                            </div>
                            <div class="stop-duration">${stop.duration}</div>
                        </div>
                        <div class="stop-details">
                            <div class="detail-section">
                                <h4>ğŸ›ï¸ Hostels</h4>
                                ${stop.hostels.map(h => `<div class="detail-item"><div class="name">${h.name}</div><div class="info">${h.info}</div><div class="price">${h.price} â€¢ â­ ${h.rating}</div></div>`).join('')}
                            </div>
                            <div class="detail-section">
                                <h4>ğŸ¯ Things to Do</h4>
                                ${stop.activities.map(a => `<div class="detail-item"><div class="name">${a}</div></div>`).join('')}
                            </div>
                            ${stop.nextTravel ? `<div class="travel-info"><h4>ğŸš€ Next Stop</h4>${stop.nextTravel.map(t => `<div class="travel-option"><div class="mode">${t.mode} â†’ ${t.destination}</div><div><span class="price">${t.price}</span><span class="time"> â€¢ ${t.duration}</span></div></div>`).join('')}</div>` : ''}
                        </div>
                    </div>`;
                });
                html += '</div>';
            });
            container.innerHTML = html;
        }
        
        function selectStop(id) {
            document.querySelectorAll('.stop-card').forEach(card => card.classList.remove('active'));
            const activeCard = document.querySelector(`.stop-card[data-id="${id}"]`);
            if (activeCard) { activeCard.classList.add('active'); activeCard.scrollIntoView({ behavior: 'smooth', block: 'center' }); }
            const stop = travelRoute.find(s => s.id === id);
            if (stop) { map.setView([stop.lat, stop.lng], 8, { animate: true }); markers[id - 1].openPopup(); }
        }
        
        renderSidebar();
    </script>
</body>
</html>
