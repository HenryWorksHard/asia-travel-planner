<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asia Adventure - 6 Month Travel Planner</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background: #1a1a2e; color: #eee; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px 30px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; }
        .header h1 { font-size: 1.8rem; font-weight: 600; }
        .header .stats { display: flex; gap: 25px; flex-wrap: wrap; }
        .stat { text-align: center; }
        .stat-value { font-size: 1.4rem; font-weight: 700; }
        .stat-label { font-size: 0.7rem; opacity: 0.8; }
        .main-container { display: flex; height: calc(100vh - 80px); }
        #map { flex: 1; height: 100%; }
        .sidebar { width: 400px; background: #16213e; overflow-y: auto; border-left: 1px solid #333; }
        .sidebar-header { padding: 20px; background: #1a1a2e; border-bottom: 1px solid #333; position: sticky; top: 0; z-index: 100; }
        .sidebar-header h2 { font-size: 1.2rem; margin-bottom: 5px; }
        .sidebar-header p { font-size: 0.85rem; opacity: 0.7; }
        .weather-note { background: #2d4a3e; padding: 8px 12px; border-radius: 6px; margin-top: 8px; font-size: 0.75rem; }
        .visa-section { background: #1a1a2e; margin-top: 10px; padding: 12px; border-radius: 8px; border: 1px solid #333; }
        .visa-section h3 { font-size: 0.85rem; margin-bottom: 8px; color: #667eea; }
        .visa-row { display: flex; justify-content: space-between; padding: 6px 0; border-bottom: 1px solid #333; font-size: 0.75rem; }
        .visa-row:last-child { border-bottom: none; }
        .visa-row .country { font-weight: 500; }
        .visa-row .type { opacity: 0.8; }
        .visa-row .cost { color: #4ade80; font-weight: 600; }
        .visa-row.free .cost { color: #4ade80; }
        .visa-row.paid .cost { color: #fbbf24; }
        .visa-apply { background: #2d3a4f; padding: 8px; border-radius: 6px; margin-top: 8px; font-size: 0.7rem; }
        .visa-apply strong { color: #667eea; }
        .country-section { border-bottom: 2px solid #667eea; }
        .country-header { background: linear-gradient(135deg, #1f4068 0%, #16213e 100%); padding: 12px 20px; font-weight: 600; font-size: 0.9rem; display: flex; align-items: center; gap: 8px; }
        .stop-card { padding: 15px 20px; border-bottom: 1px solid #333; cursor: pointer; transition: background 0.2s; }
        .stop-card:hover { background: #1a1a2e; }
        .stop-card.active { background: #1f4068; border-left: 4px solid #667eea; }
        .stop-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 5px; }
        .stop-number { background: #667eea; color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; font-weight: 600; }
        .stop-name { font-size: 1rem; font-weight: 600; flex: 1; margin-left: 10px; }
        .stop-duration { background: #333; padding: 3px 8px; border-radius: 10px; font-size: 0.7rem; }
        .stop-details { margin-top: 12px; display: none; }
        .stop-card.active .stop-details { display: block; }
        .detail-section { margin-bottom: 12px; }
        .detail-section h4 { font-size: 0.8rem; color: #667eea; margin-bottom: 6px; }
        .detail-item { background: #1a1a2e; padding: 8px 10px; border-radius: 6px; margin-bottom: 4px; font-size: 0.8rem; }
        .detail-item .name { font-weight: 500; }
        .detail-item .info { opacity: 0.7; font-size: 0.75rem; }
        .detail-item .price { color: #4ade80; font-weight: 600; }
        .travel-info { background: linear-gradient(135deg, #1f4068 0%, #16213e 100%); padding: 10px; border-radius: 6px; margin-top: 8px; }
        .travel-info h4 { font-size: 0.75rem; margin-bottom: 6px; opacity: 0.8; }
        .travel-option { display: flex; justify-content: space-between; align-items: center; padding: 6px 0; border-bottom: 1px solid #333; font-size: 0.8rem; }
        .travel-option:last-child { border-bottom: none; }
        .travel-option .price { color: #4ade80; font-weight: 600; }
        .travel-option .time { font-size: 0.7rem; opacity: 0.7; }
        .travel-route { font-size: 0.7rem; opacity: 0.7; padding: 6px 0 8px 0; border-bottom: 1px solid #333; margin-bottom: 4px; line-height: 1.4; }
        .leaflet-popup-content-wrapper { background: #16213e; color: #eee; border-radius: 12px; }
        .leaflet-popup-tip { background: #16213e; }
        .popup-content h3 { font-size: 1rem; margin-bottom: 3px; }
        .popup-content p { font-size: 0.8rem; opacity: 0.8; }
        
        /* Route Overview Button */
        .route-overview-btn { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            border: none; 
            color: white; 
            padding: 10px 18px; 
            border-radius: 10px; 
            font-weight: 600; 
            cursor: pointer; 
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .route-overview-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); }
        
        /* Modal Overlay */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(4px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .modal-overlay.active { display: flex; }
        
        /* Modal Content */
        .modal-content {
            background: #16213e;
            border-radius: 16px;
            max-width: 500px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            border: 1px solid #333;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: modalSlideIn 0.3s ease;
        }
        @keyframes modalSlideIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            background: #16213e;
            z-index: 10;
        }
        .modal-header h2 { font-size: 1.3rem; margin: 0; }
        .modal-close {
            background: #333;
            border: none;
            color: #eee;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }
        .modal-close:hover { background: #444; }
        .modal-body { padding: 20px; }
        
        @media (max-width: 768px) {
            /* Header - compact */
            .header { padding: 12px 15px; gap: 10px; }
            .header h1 { font-size: 1.2rem; }
            .header .stats { gap: 12px; }
            .stat-value { font-size: 1rem; }
            .stat-label { font-size: 0.6rem; }
            .route-overview-btn { padding: 8px 12px; font-size: 0.75rem; }
            
            /* Layout - map smaller, list bigger */
            .main-container { flex-direction: column; height: auto; }
            #map { height: 35vh; min-height: 200px; }
            .sidebar { width: 100%; height: auto; max-height: 60vh; border-left: none; border-top: 1px solid #333; }
            
            /* Sidebar header - compact */
            .sidebar-header { padding: 12px 15px; }
            .sidebar-header h2 { font-size: 1rem; }
            .sidebar-header p { font-size: 0.75rem; }
            
            /* Country sections - tighter */
            .country-header { padding: 10px 15px; font-size: 0.8rem; }
            
            /* Stop cards - slim */
            .stop-card { padding: 10px 15px; }
            .stop-number { width: 20px; height: 20px; font-size: 0.65rem; }
            .stop-name { font-size: 0.85rem; margin-left: 8px; }
            .stop-duration { font-size: 0.6rem; padding: 2px 6px; }
            
            /* Details - compact */
            .stop-details { margin-top: 10px; }
            .detail-section { margin-bottom: 10px; }
            .detail-section h4 { font-size: 0.7rem; margin-bottom: 4px; }
            .detail-item { padding: 6px 8px; font-size: 0.7rem; margin-bottom: 3px; }
            .detail-item .info { font-size: 0.65rem; }
            
            /* Travel info - slim */
            .travel-info { padding: 8px; margin-top: 6px; }
            .travel-info h4 { font-size: 0.65rem; margin-bottom: 4px; }
            .travel-option { font-size: 0.7rem; padding: 4px 0; }
            .travel-option .time { font-size: 0.6rem; }
            .travel-route { font-size: 0.6rem; padding: 4px 0 6px 0; }
            
            /* Modal - full width on mobile */
            .modal-content { width: 95%; max-height: 90vh; border-radius: 12px; }
            .modal-header { padding: 15px; }
            .modal-header h2 { font-size: 1.1rem; }
            .modal-body { padding: 15px; }
            .visa-row { font-size: 0.65rem; padding: 5px 0; }
            .visa-apply { font-size: 0.6rem; padding: 6px; }
            .weather-note { font-size: 0.65rem; padding: 6px 10px; }
        }
        
        /* Extra small screens */
        @media (max-width: 380px) {
            .header h1 { font-size: 1rem; }
            .header .stats { gap: 8px; }
            .stat-value { font-size: 0.85rem; }
            .route-overview-btn { padding: 6px 10px; font-size: 0.7rem; }
            #map { height: 30vh; }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>üåè Asia Adventure</h1>
        <div class="stats">
            <div class="stat"><div class="stat-value">6</div><div class="stat-label">Months</div></div>
            <div class="stat"><div class="stat-value">8</div><div class="stat-label">Countries</div></div>
            <div class="stat"><div class="stat-value">37</div><div class="stat-label">Stops</div></div>
            <div class="stat"><div class="stat-value">~$7,200</div><div class="stat-label">Est. Budget</div></div>
        </div>
        <button class="route-overview-btn" onclick="toggleModal()">
            üó∫Ô∏è Route & Visas
        </button>
    </header>
    
    <!-- Route Overview Modal -->
    <div class="modal-overlay" id="routeModal" onclick="closeModalOutside(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>üó∫Ô∏è Travel Route</h2>
                <button class="modal-close" onclick="toggleModal()">√ó</button>
            </div>
            <div class="modal-body">
                <p style="font-size: 0.95rem; margin-bottom: 12px;">Starting <strong>February 25, 2026</strong></p>
                <div class="weather-note">‚òÄÔ∏è <strong>Perfect timing!</strong> Feb-April is dry season for Thai islands (both coasts)</div>
                <div class="visa-section" style="margin-top: 15px;">
                    <h3>üõÇ Visa Requirements (UK Passport)</h3>
                    <div class="visa-row free"><span class="country">üáπüá≠ Thailand</span><span class="type">Visa-free 60 days</span><span class="cost">FREE</span></div>
                    <div class="visa-row paid"><span class="country">üá±üá¶ Laos</span><span class="type">Visa on Arrival</span><span class="cost">$35</span></div>
                    <div class="visa-row paid"><span class="country">üáªüá≥ Vietnam</span><span class="type">e-Visa (apply online)</span><span class="cost">$25</span></div>
                    <div class="visa-row paid"><span class="country">üá∞üá≠ Cambodia</span><span class="type">e-Visa or VOA</span><span class="cost">$30</span></div>
                    <div class="visa-row free"><span class="country">üá≤üáæ Malaysia</span><span class="type">Visa-free 90 days</span><span class="cost">FREE</span></div>
                    <div class="visa-row free"><span class="country">üá∏üá¨ Singapore</span><span class="type">Visa-free 90 days</span><span class="cost">FREE</span></div>
                    <div class="visa-row paid"><span class="country">üáÆüá© Indonesia</span><span class="type">Visa on Arrival</span><span class="cost">$35</span></div>
                    <div class="visa-apply">
                        <strong>üìÖ When to apply:</strong><br>
                        ‚Ä¢ Vietnam e-Visa: ~March 25 (2 weeks before entry)<br>
                        ‚Ä¢ Cambodia e-Visa: ~April 12 (or just get VOA at border)<br>
                        ‚Ä¢ Official Vietnam site: evisa.xuatnhapcanh.gov.vn
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="main-container">
        <div id="map"></div>
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>üìç Itinerary</h2>
                <p>Click a stop to see details</p>
            </div>
            <div id="stops-list"></div>
        </aside>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const travelRoute = [
            // THAILAND - NORTH
            {
                id: 1, city: "Bangkok", country: "Thailand", lat: 13.7563, lng: 100.5018, duration: "4 days",
                description: "Start in the Land of Smiles",
                hostels: [
                    { name: "NapPark Hostel", price: "$8/night", rating: "8.8", info: "Khao San area, social" },
                    { name: "Bed Station Hostel", price: "$6/night", rating: "8.5", info: "Near MRT, basic but clean" }
                ],
                activities: ["Grand Palace & Wat Phra Kaew", "Chatuchak Weekend Market", "Khao San Road", "Floating markets"],
                nextTravel: [{ mode: "üöÇ Train", destination: "Chiang Mai", price: "$18-40", duration: "10h (sleeper train)" }]
            },
            {
                id: 2, city: "Chiang Mai", country: "Thailand", lat: 18.7883, lng: 98.9853, duration: "5 days",
                description: "Temples, mountains, digital nomad hub",
                hostels: [
                    { name: "Deejai Backpackers", price: "$5/night", rating: "8.7", info: "Super cheap, Old City" },
                    { name: "Stamps Backpackers", price: "$7/night", rating: "9.1", info: "Best social hostel" }
                ],
                activities: ["Doi Suthep Temple", "Elephant Nature Park", "Sunday Walking Street", "Muay Thai class", "Cooking class"],
                nextTravel: [{ mode: "üöå Minivan", destination: "Pai", price: "$5-8", duration: "3h" }]
            },
            {
                id: 3, city: "Pai", country: "Thailand", lat: 19.3597, lng: 98.4408, duration: "4 days",
                description: "Hippie mountain town, chill vibes",
                hostels: [
                    { name: "Pai Circus Hostel", price: "$6/night", rating: "9.0", info: "Pool, fire shows" }
                ],
                activities: ["Pai Canyon sunset", "Hot springs", "Pam Bok Waterfall", "Night market", "Rent a scooter"],
                nextTravel: [{ mode: "‚úàÔ∏è Flight", destination: "Krabi", price: "$50-90", duration: "2h", route: "Minivan Pai ‚Üí Chiang Mai Airport (3h) ‚Ä¢ Flight: Chiang Mai (CNX) ‚Üí Krabi (KBV) direct" }]
            },
            // THAILAND - SOUTHERN ISLANDS (Best Feb-April!)
            {
                id: 4, city: "Krabi / Ao Nang", country: "Thailand", lat: 8.0863, lng: 98.9063, duration: "3 days",
                description: "Gateway to islands, limestone cliffs",
                hostels: [
                    { name: "Pak-Up Hostel", price: "$10/night", rating: "9.2", info: "Pool, rooftop bar" },
                    { name: "Slumber Party Hostel", price: "$8/night", rating: "8.8", info: "Social, parties" }
                ],
                activities: ["Railay Beach (climb or chill)", "4 Islands tour", "Ao Nang beach", "Tiger Cave Temple", "Night market"],
                nextTravel: [{ mode: "‚õ¥Ô∏è Ferry", destination: "Koh Phi Phi", price: "$12-18", duration: "1.5h" }]
            },
            {
                id: 5, city: "Koh Phi Phi", country: "Thailand", lat: 7.7407, lng: 98.7784, duration: "3 days",
                description: "Famous party island, Maya Bay",
                hostels: [
                    { name: "Phi Phi Hostel", price: "$10/night", rating: "8.3", info: "Basic but cheap" },
                    { name: "Blanco Beach Bar", price: "$12/night", rating: "8.7", info: "Beachfront, worth it" }
                ],
                activities: ["Maya Bay day trip", "Viewpoint hike", "Snorkeling", "Beach parties", "Long Beach"],
                nextTravel: [{ mode: "‚õ¥Ô∏è Ferry", destination: "Koh Lanta", price: "$10-15", duration: "1h" }]
            },
            {
                id: 6, city: "Koh Lanta", country: "Thailand", lat: 7.5357, lng: 99.0694, duration: "4 days",
                description: "Chill alternative, long beaches",
                hostels: [
                    { name: "The Lanta Hostel", price: "$10/night", rating: "8.9", info: "Pool, social but chill" },
                    { name: "Chill Out Bungalows", price: "$15/night", rating: "8.6", info: "Beach huts" }
                ],
                activities: ["Rent a scooter", "Beach hopping", "Mu Ko Lanta National Park", "Old Town", "Sunset at Klong Dao"],
                nextTravel: [{ mode: "‚õ¥Ô∏è Ferry", destination: "Koh Lipe", price: "$35-50", duration: "4-5h" }]
            },
            {
                id: 7, city: "Koh Lipe", country: "Thailand", lat: 6.4833, lng: 99.3000, duration: "3 days",
                description: "Thai Maldives, crystal clear water",
                hostels: [
                    { name: "Castaway Resort", price: "$12/night", rating: "8.4", info: "Budget fan bungalows" },
                    { name: "Bloom Cafe & Hostel", price: "$18/night", rating: "8.8", info: "Walking street (splurge)" }
                ],
                activities: ["Sunrise Beach", "Snorkeling (best in Thailand!)", "Walking street", "Island hopping", "Sunset Beach bars"],
                nextTravel: [{ mode: "‚õ¥Ô∏è + üöå", destination: "Surat Thani", price: "$40-60", duration: "6-7h", route: "Speedboat from Pattaya Beach ‚Üí Pak Bara Pier (1.5h) ‚Ä¢ Bus: Pak Bara ‚Üí Surat Thani town/airport" }]
            },
            {
                id: 8, city: "Koh Tao", country: "Thailand", lat: 10.0956, lng: 99.8403, duration: "4 days",
                description: "Diving paradise, small island vibes",
                hostels: [
                    { name: "Goodtime Beach", price: "$12/night", rating: "9.0", info: "Beachfront, social" },
                    { name: "Blue Wind Hostel", price: "$8/night", rating: "8.5", info: "Budget, Sairee" }
                ],
                activities: ["Get PADI certified (cheapest in world!)", "Snorkel Shark Bay", "Viewpoints hike", "Sairee Beach", "Night diving"],
                nextTravel: [{ mode: "‚õ¥Ô∏è Ferry", destination: "Koh Phangan", price: "$8-12", duration: "30m" }]
            },
            {
                id: 9, city: "Koh Phangan", country: "Thailand", lat: 9.7500, lng: 100.0333, duration: "4 days",
                description: "Full Moon Party, yoga retreats",
                hostels: [
                    { name: "Slumber Party", price: "$12/night", rating: "8.8", info: "Haad Rin, party hostel" },
                    { name: "Chill Inn", price: "$10/night", rating: "8.6", info: "Quieter, Thong Sala" }
                ],
                activities: ["Full Moon Party (if timing!)", "Secret Beach", "Bottle Beach", "Yoga retreat", "Waterfalls"],
                nextTravel: [{ mode: "‚õ¥Ô∏è + ‚úàÔ∏è", destination: "Luang Prabang", price: "$80-150", duration: "5-6h total", route: "Ferry from Thong Sala Pier ‚Üí Surat Thani (2h) ‚Ä¢ Flight: Surat Thani (URT) ‚Üí Bangkok (BKK) ‚Üí Luang Prabang (LPQ)" }]
            },
            // LAOS
            {
                id: 10, city: "Luang Prabang", country: "Laos", lat: 19.8850, lng: 102.1347, duration: "4 days",
                description: "UNESCO town on the Mekong",
                hostels: [
                    { name: "Safehouse Hostel", price: "$8/night", rating: "8.7", info: "Rooftop bar" }
                ],
                activities: ["Alms giving (sunrise)", "Kuang Si Waterfalls", "Night market", "Pak Ou Caves", "Mekong cruise"],
                nextTravel: [{ mode: "üöå Bus", destination: "Vang Vieng", price: "$12-18", duration: "5-6h" }]
            },
            {
                id: 11, city: "Vang Vieng", country: "Laos", lat: 18.9220, lng: 102.4473, duration: "3 days",
                description: "Karst mountains, tubing, adventure",
                hostels: [
                    { name: "Nana Backpackers", price: "$6/night", rating: "8.8", info: "River views, social" }
                ],
                activities: ["River tubing", "Blue Lagoons", "Kayaking", "Hot air balloon", "Caves exploration"],
                nextTravel: [{ mode: "üöå Bus", destination: "Vientiane", price: "$8-12", duration: "3-4h" }]
            },
            {
                id: 12, city: "Vientiane", country: "Laos", lat: 17.9757, lng: 102.6331, duration: "2 days",
                description: "Chill capital, Mekong riverside",
                hostels: [
                    { name: "Dream Home Hostel", price: "$5/night", rating: "8.6", info: "Budget, central" }
                ],
                activities: ["Patuxai Victory Gate", "Buddha Park", "Mekong sunset", "COPE Visitor Centre", "Night market"],
                nextTravel: [{ mode: "‚úàÔ∏è Flight", destination: "Hanoi", price: "$60-100", duration: "1h" }]
            },
            // VIETNAM
            {
                id: 13, city: "Hanoi", country: "Vietnam", lat: 21.0285, lng: 105.8542, duration: "4 days",
                description: "Chaotic charm, incredible food",
                hostels: [
                    { name: "Nexy Hostel", price: "$8/night", rating: "9.3", info: "Best hostel in Hanoi" }
                ],
                activities: ["Old Quarter exploration", "Street food tour", "Train Street", "Ho Chi Minh Mausoleum", "Water puppets"],
                nextTravel: [{ mode: "üöå Sleeper Bus", destination: "Ha Giang", price: "$12-15", duration: "6-7h" }]
            },
            {
                id: 14, city: "Ha Giang Loop", country: "Vietnam", lat: 23.2781, lng: 105.0021, duration: "4 days",
                description: "Epic motorbike loop, best road trip in SE Asia! üèçÔ∏è",
                hostels: [
                    { name: "QT Motorbikes & Tours", price: "$180-220/4 days", rating: "9.4", info: "Most popular - bike, guide, food, homestays inc." },
                    { name: "Jasmine Hostel Tours", price: "$150-180/4 days", rating: "9.1", info: "Budget option, great guides" },
                    { name: "Cheers Hostel Tours", price: "$170-200/4 days", rating: "9.2", info: "Easy rider option if you can't ride" }
                ],
                activities: ["Ma Pi Leng Pass (king of passes!)", "Dong Van karst plateau UNESCO", "Lung Cu Flag Tower (China border)", "Ethnic minority homestays", "Du Gia waterfall swim"],
                nextTravel: [{ mode: "üöå Sleeper Bus", destination: "Hanoi", price: "$12-15", duration: "6-7h", route: "Sleeper bus Ha Giang ‚Üí Hanoi My Dinh station ‚Ä¢ Then book Ha Long cruise from Hanoi (most include pickup)" }]
            },
            {
                id: 15, city: "Ha Long Bay", country: "Vietnam", lat: 20.9101, lng: 107.1839, duration: "2 days",
                description: "Limestone karsts, boat cruise",
                hostels: [
                    { name: "Overnight Cruise", price: "$45-80", rating: "9.0", info: "Cruise with cabin" }
                ],
                activities: ["Overnight cruise", "Kayaking", "Sung Sot Cave", "Ti Top Island", "Floating village"],
                nextTravel: [{ mode: "üöå Bus", destination: "Ninh Binh", price: "$12-18", duration: "4h" }]
            },
            {
                id: 16, city: "Ninh Binh", country: "Vietnam", lat: 20.2539, lng: 105.9750, duration: "2 days",
                description: "Ha Long Bay on land",
                hostels: [
                    { name: "Tam Coc Bungalow", price: "$10/night", rating: "9.1", info: "Rice field views" }
                ],
                activities: ["Tam Coc boat ride", "Mua Cave viewpoint", "Bai Dinh Pagoda", "Cycling rice fields"],
                nextTravel: [{ mode: "üöÇ Train", destination: "Hue", price: "$25-45", duration: "10-12h" }]
            },
            {
                id: 17, city: "Hue", country: "Vietnam", lat: 16.4637, lng: 107.5909, duration: "2 days",
                description: "Imperial city, royal tombs",
                hostels: [
                    { name: "Vietnam Backpackers Hue", price: "$7/night", rating: "8.8", info: "Pool, social" }
                ],
                activities: ["Imperial Citadel", "Royal tombs", "Thien Mu Pagoda", "DMZ tour", "Perfume River"],
                nextTravel: [{ mode: "üöÇ Train", destination: "Da Nang/Hoi An", price: "$8-15", duration: "2.5h" }]
            },
            {
                id: 18, city: "Hoi An", country: "Vietnam", lat: 15.8801, lng: 108.3380, duration: "4 days",
                description: "Lantern town, tailors, beach",
                hostels: [
                    { name: "Tribee Bana", price: "$8/night", rating: "9.2", info: "Pool, bikes free" }
                ],
                activities: ["Ancient Town at night", "Get clothes tailored", "An Bang Beach", "Basket boat tour", "Cooking class"],
                nextTravel: [{ mode: "‚úàÔ∏è Flight", destination: "Ho Chi Minh", price: "$35-70", duration: "1h 15m" }]
            },
            {
                id: 19, city: "Ho Chi Minh City", country: "Vietnam", lat: 10.8231, lng: 106.6297, duration: "3 days",
                description: "Energetic metropolis, war history",
                hostels: [
                    { name: "The Common Room", price: "$9/night", rating: "9.1", info: "Design hostel" }
                ],
                activities: ["Cu Chi Tunnels", "War Remnants Museum", "Ben Thanh Market", "Bui Vien Walking Street"],
                nextTravel: [{ mode: "üöå Bus", destination: "Phnom Penh", price: "$15-25", duration: "6-7h" }]
            },
            // CAMBODIA
            {
                id: 20, city: "Phnom Penh", country: "Cambodia", lat: 11.5564, lng: 104.9282, duration: "3 days",
                description: "Sobering history, riverside charm",
                hostels: [
                    { name: "Mad Monkey", price: "$7/night", rating: "8.9", info: "Pool, party vibe" }
                ],
                activities: ["Killing Fields & S-21", "Royal Palace", "Riverside sunset", "Russian Market"],
                nextTravel: [{ mode: "üöå Bus", destination: "Siem Reap", price: "$10-15", duration: "6h" }]
            },
            {
                id: 21, city: "Siem Reap", country: "Cambodia", lat: 13.3671, lng: 103.8448, duration: "4 days",
                description: "Angkor Wat, ancient temples",
                hostels: [
                    { name: "Lub d Siem Reap", price: "$10/night", rating: "9.0", info: "Pool, modern" }
                ],
                activities: ["Angkor Wat sunrise", "Ta Prohm (Tomb Raider)", "Angkor Thom & Bayon", "Pub Street"],
                nextTravel: [{ mode: "üöå Bus", destination: "Kampot", price: "$15-20", duration: "8h" }]
            },
            {
                id: 22, city: "Kampot", country: "Cambodia", lat: 10.5943, lng: 104.1830, duration: "3 days",
                description: "Riverside chill, pepper farms",
                hostels: [
                    { name: "Onederz Kampot", price: "$6/night", rating: "8.8", info: "River views" }
                ],
                activities: ["Bokor Mountain", "Pepper farm tour", "River kayaking", "Kep crab market"],
                nextTravel: [{ mode: "‚úàÔ∏è Flight", destination: "Kuala Lumpur", price: "$60-120", duration: "1.5h", route: "Bus/taxi Kampot ‚Üí Phnom Penh Airport (PNH) 2.5h ‚Ä¢ Flight: Phnom Penh ‚Üí KL (KUL)" }]
            },
            // MALAYSIA
            {
                id: 23, city: "Kuala Lumpur", country: "Malaysia", lat: 3.1390, lng: 101.6869, duration: "3 days",
                description: "Modern towers, diverse food",
                hostels: [
                    { name: "BackHome KL", price: "$10/night", rating: "9.1", info: "Heritage building" }
                ],
                activities: ["Petronas Towers", "Batu Caves", "Jalan Alor food street", "KL Tower"],
                nextTravel: [{ mode: "üöå Bus", destination: "Melaka", price: "$8-12", duration: "2h" }]
            },
            {
                id: 24, city: "Melaka", country: "Malaysia", lat: 2.1896, lng: 102.2501, duration: "2 days",
                description: "Historic port city, UNESCO site",
                hostels: [
                    { name: "Nomaps Hostel", price: "$9/night", rating: "9.0", info: "Central, modern" }
                ],
                activities: ["Jonker Street night market", "A Famosa fort", "River cruise", "Chicken rice balls"],
                nextTravel: [{ mode: "üöå Bus", destination: "Cameron Highlands", price: "$15-20", duration: "5h" }]
            },
            {
                id: 25, city: "Cameron Highlands", country: "Malaysia", lat: 4.4718, lng: 101.3762, duration: "2 days",
                description: "Tea plantations, cool climate",
                hostels: [
                    { name: "Father's Guesthouse", price: "$8/night", rating: "8.9", info: "Cozy, tours" }
                ],
                activities: ["Tea plantation tour", "Mossy Forest trek", "Strawberry farms", "Sunrise hiking"],
                nextTravel: [{ mode: "üöå Bus", destination: "Penang", price: "$12-18", duration: "4-5h" }]
            },
            {
                id: 26, city: "Penang", country: "Malaysia", lat: 5.4164, lng: 100.3327, duration: "4 days",
                description: "Best street food in Asia",
                hostels: [
                    { name: "The 80s Guesthouse", price: "$9/night", rating: "8.9", info: "Heritage" }
                ],
                activities: ["George Town street art", "Hawker food crawl", "Kek Lok Si Temple", "Penang Hill"],
                nextTravel: [{ mode: "‚õ¥Ô∏è Ferry", destination: "Langkawi", price: "$20-30", duration: "2.5h", route: "Ferry from Penang Swettenham Pier (Georgetown) ‚Üí Kuah Jetty, Langkawi" }]
            },
            {
                id: 27, city: "Langkawi", country: "Malaysia", lat: 6.3500, lng: 99.8000, duration: "3 days",
                description: "Duty-free island paradise",
                hostels: [
                    { name: "The Dorm Langkawi", price: "$9/night", rating: "8.5", info: "Pantai Cenang, basic" },
                    { name: "Cenang Rooms", price: "$10/night", rating: "8.3", info: "Budget guesthouse" }
                ],
                activities: ["Sky Bridge & Cable Car", "Island hopping", "Pantai Cenang beach", "Mangrove kayak"],
                nextTravel: [{ mode: "‚úàÔ∏è Flight", destination: "Singapore", price: "$40-80", duration: "1.5h" }]
            },
            // SINGAPORE
            {
                id: 28, city: "Singapore", country: "Singapore", lat: 1.3521, lng: 103.8198, duration: "1 day",
                description: "Quick transit stop, see the highlights",
                hostels: [
                    { name: "Beary Best Capsule", price: "$15/night", rating: "8.5", info: "Chinatown, cheap for SG" },
                    { name: "5footway.inn", price: "$14/night", rating: "8.2", info: "Budget chain" }
                ],
                activities: ["Marina Bay Sands viewpoint", "Gardens by the Bay", "Hawker centre dinner"],
                nextTravel: [{ mode: "‚úàÔ∏è Flight", destination: "Jakarta", price: "$50-100", duration: "1h 40m" }]
            },
            // INDONESIA
            {
                id: 29, city: "Jakarta", country: "Indonesia", lat: -6.2088, lng: 106.8456, duration: "2 days",
                description: "Chaotic capital, gateway to Java",
                hostels: [
                    { name: "Six Degrees Hostel", price: "$8/night", rating: "8.5", info: "Central, cheap" },
                    { name: "Cara Cara Inn", price: "$12/night", rating: "8.7", info: "Menteng (upgrade)" }
                ],
                activities: ["Kota Tua (Old Town)", "National Museum", "Monas monument", "Street food"],
                nextTravel: [{ mode: "üöÇ Train", destination: "Yogyakarta", price: "$20-40", duration: "7-8h" }]
            },
            {
                id: 30, city: "Yogyakarta", country: "Indonesia", lat: -7.7956, lng: 110.3695, duration: "4 days",
                description: "Cultural heart of Java, temples",
                hostels: [
                    { name: "Otu Hostel", price: "$8/night", rating: "9.2", info: "Amazing design, pool" }
                ],
                activities: ["Borobudur sunrise", "Prambanan temples", "Kraton Palace", "Malioboro Street", "Jomblang Cave"],
                nextTravel: [{ mode: "‚úàÔ∏è Flight", destination: "Bali", price: "$40-80", duration: "1h 15m" }]
            },
            {
                id: 31, city: "Bali - Ubud", country: "Indonesia", lat: -8.5069, lng: 115.2625, duration: "4 days",
                description: "Rice terraces, yoga, culture",
                hostels: [
                    { name: "Onward Ubud", price: "$8/night", rating: "8.6", info: "Budget, central" },
                    { name: "In Da Lodge", price: "$9/night", rating: "8.7", info: "Rice field views" }
                ],
                activities: ["Tegallalang rice terraces", "Ubud Monkey Forest", "Tirta Empul temple", "Yoga classes"],
                nextTravel: [{ mode: "üõµ Scooter", destination: "Canggu", price: "$5-8", duration: "1h" }]
            },
            {
                id: 32, city: "Bali - Canggu", country: "Indonesia", lat: -8.6478, lng: 115.1385, duration: "4 days",
                description: "Surf town, beach clubs, digital nomads",
                hostels: [
                    { name: "Kos One Hostel", price: "$8/night", rating: "8.6", info: "Budget, social" },
                    { name: "Sedasa Canggu", price: "$10/night", rating: "8.8", info: "Pool, affordable" }
                ],
                activities: ["Surf lessons", "Beach clubs", "Echo Beach sunset", "Tanah Lot temple", "Cafe hopping"],
                nextTravel: [{ mode: "üõµ Scooter", destination: "Uluwatu", price: "$5-8", duration: "1h" }]
            },
            {
                id: 33, city: "Bali - Uluwatu", country: "Indonesia", lat: -8.8291, lng: 115.0849, duration: "3 days",
                description: "Cliffside temples, epic surf",
                hostels: [
                    { name: "Puri Uluwatu Villas", price: "$10/night", rating: "8.4", info: "Basic, good location" },
                    { name: "Bingin Green View", price: "$12/night", rating: "8.6", info: "Budget, near beach" }
                ],
                activities: ["Uluwatu Temple & Kecak dance", "Single Fin Sunday", "Padang Padang beach", "Surfing"],
                nextTravel: [{ mode: "‚õ¥Ô∏è Fast Boat", destination: "Gili Islands", price: "$30-50", duration: "1.5-2h", route: "Fast boat from Padang Bai or Sanur Harbor ‚Üí Gili Trawangan" }]
            },
            {
                id: 34, city: "Gili Trawangan", country: "Indonesia", lat: -8.3510, lng: 116.0346, duration: "3 days",
                description: "Party island, no cars, diving",
                hostels: [
                    { name: "Gili Castle", price: "$12/night", rating: "9.0", info: "Pool, parties" }
                ],
                activities: ["Scuba diving", "Bike around island", "Sunset swings", "Beach bars", "Freediving"],
                nextTravel: [{ mode: "‚õ¥Ô∏è Boat", destination: "Gili Air", price: "$3-5", duration: "15m" }]
            },
            {
                id: 35, city: "Gili Air", country: "Indonesia", lat: -8.3667, lng: 116.0833, duration: "3 days",
                description: "Chill island, best of both worlds",
                hostels: [
                    { name: "Captain Coconuts", price: "$12/night", rating: "8.9", info: "Beachfront" }
                ],
                activities: ["Snorkeling with turtles", "Yoga retreats", "Beachside cafes", "Island vibes"],
                nextTravel: [{ mode: "‚õ¥Ô∏è Fast Boat", destination: "Lombok", price: "$15-25", duration: "30m" }]
            },
            {
                id: 36, city: "Lombok", country: "Indonesia", lat: -8.5833, lng: 116.1167, duration: "4 days",
                description: "Quieter Bali, stunning beaches",
                hostels: [
                    { name: "Kuta Lombok Hostel", price: "$10/night", rating: "8.8", info: "Kuta beach" }
                ],
                activities: ["Kuta Lombok beaches", "Tanjung Aan", "Surf Gerupuk", "Pink Beach day trip"],
                nextTravel: [{ mode: "‚úàÔ∏è Flight", destination: "Labuan Bajo", price: "$60-120", duration: "1h", route: "Flight from Lombok International (LOP) ‚Üí Komodo Airport (LBJ)" }]
            },
            {
                id: 37, city: "Labuan Bajo (Komodo)", country: "Indonesia", lat: -8.4500, lng: 119.8833, duration: "3 days",
                description: "Dragons, diving, paradise ending üêâ",
                hostels: [
                    { name: "Dragon Dive Hostel", price: "$10/night", rating: "8.5", info: "Dive shop attached" },
                    { name: "Ciao Hostel", price: "$12/night", rating: "8.7", info: "Central, social" }
                ],
                activities: ["Komodo National Park tour", "See Komodo dragons!", "Padar Island hike", "Manta ray diving", "Pink Beach"],
                nextTravel: [{ mode: "‚úàÔ∏è Flight", destination: "Bali ‚Üí Home", price: "$50 + intl", duration: "Varies" }]
            }
        ];
        
        const countries = [...new Set(travelRoute.map(s => s.country))];
        const countryFlags = {
            "Thailand": "üáπüá≠", "Laos": "üá±üá¶", "Vietnam": "üáªüá≥", "Cambodia": "üá∞üá≠",
            "Malaysia": "üá≤üáæ", "Singapore": "üá∏üá¨", "Indonesia": "üáÆüá©"
        };
        
        const map = L.map('map').setView([8, 108], 4);
        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; OpenStreetMap &copy; CARTO', subdomains: 'abcd', maxZoom: 19
        }).addTo(map);
        
        function createMarkerIcon(n) {
            return L.divIcon({
                className: 'custom-marker',
                html: `<div style="background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;width:22px;height:22px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:9px;border:2px solid #fff;box-shadow:0 2px 6px rgba(0,0,0,.3)">${n}</div>`,
                iconSize: [22, 22], iconAnchor: [11, 11]
            });
        }
        
        const markers = [];
        const routePoints = [];
        travelRoute.forEach(stop => {
            const marker = L.marker([stop.lat, stop.lng], { icon: createMarkerIcon(stop.id) }).addTo(map);
            marker.bindPopup(`<div class="popup-content"><h3>${stop.city}</h3><p>${stop.country} ‚Ä¢ ${stop.duration}</p><p>${stop.description}</p></div>`);
            marker.on('click', () => selectStop(stop.id));
            markers.push(marker);
            routePoints.push([stop.lat, stop.lng]);
        });
        L.polyline(routePoints, { color: '#667eea', weight: 2, opacity: 0.6, dashArray: '6,6' }).addTo(map);
        
        function renderSidebar() {
            const container = document.getElementById('stops-list');
            let html = '';
            countries.forEach(country => {
                const stops = travelRoute.filter(s => s.country === country);
                html += `<div class="country-section"><div class="country-header">${countryFlags[country]} ${country} (${stops.length})</div>`;
                stops.forEach(stop => {
                    html += `<div class="stop-card" data-id="${stop.id}" onclick="selectStop(${stop.id})">
                        <div class="stop-header"><div style="display:flex;align-items:center"><div class="stop-number">${stop.id}</div><div class="stop-name">${stop.city}</div></div><div class="stop-duration">${stop.duration}</div></div>
                        <div class="stop-details">
                            <div class="detail-section"><h4>üõèÔ∏è Hostels</h4>${stop.hostels.map(h=>`<div class="detail-item"><div class="name">${h.name}</div><div class="info">${h.info}</div><div class="price">${h.price} ‚Ä¢ ‚≠ê${h.rating}</div></div>`).join('')}</div>
                            <div class="detail-section"><h4>üéØ Things to Do</h4>${stop.activities.map(a=>`<div class="detail-item"><div class="name">${a}</div></div>`).join('')}</div>
                            ${stop.nextTravel?`<div class="travel-info"><h4>üöÄ Next Stop</h4>${stop.nextTravel.map(t=>`<div class="travel-option"><div>${t.mode} ‚Üí ${t.destination}</div><div><span class="price">${t.price}</span><span class="time"> ‚Ä¢ ${t.duration}</span></div></div>${t.route?`<div class="travel-route">${t.route}</div>`:''}`).join('')}</div>`:''}
                        </div></div>`;
                });
                html += '</div>';
            });
            container.innerHTML = html;
        }
        
        function selectStop(id) {
            document.querySelectorAll('.stop-card').forEach(c => c.classList.remove('active'));
            const card = document.querySelector(`.stop-card[data-id="${id}"]`);
            if (card) { card.classList.add('active'); card.scrollIntoView({ behavior: 'smooth', block: 'center' }); }
            const stop = travelRoute.find(s => s.id === id);
            if (stop) { map.setView([stop.lat, stop.lng], 8, { animate: true }); markers[id - 1].openPopup(); }
        }
        renderSidebar();
        
        // Modal functions
        function toggleModal() {
            const modal = document.getElementById('routeModal');
            modal.classList.toggle('active');
        }
        function closeModalOutside(event) {
            if (event.target.id === 'routeModal') {
                toggleModal();
            }
        }
        // Close modal with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                const modal = document.getElementById('routeModal');
                if (modal.classList.contains('active')) {
                    toggleModal();
                }
            }
        });
    </script>
</body>
</html>
